{"remainingRequest":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\Projects\\fanexus\\src\\store\\modules\\feed.module.js","dependencies":[{"path":"F:\\Projects\\fanexus\\src\\store\\modules\\feed.module.js","mtime":1598358809818},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkY6XFxQcm9qZWN0c1xcZmFuZXh1c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gIkY6XFxQcm9qZWN0c1xcZmFuZXh1c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBmZWVkVHlwZXMsIGdldE5ld3NGZWVkIH0gZnJvbSAnQC9zZXJ2aWNlcy9mZWVkLnNlcnZpY2UnOwppbXBvcnQgeyBnZXRCbG9nUG9zdCwgZGVsZXRlQmxvZ1Bvc3QgYXMgX2RlbGV0ZUJsb2dQb3N0LCBnZXRCbG9nRGF0YSB9IGZyb20gJ0Avc2VydmljZXMvQmxvZy9ibG9nLnNlcnZpY2UnOwppbXBvcnQgeyBnZXRUYWdnZWRCbG9nUG9zdHMgfSBmcm9tICdAL3NlcnZpY2VzL3RhZy5zZXJ2aWNlJzsKaW1wb3J0IHsgZ2V0QmxvZ1Bvc3RMaWtlcywgZ2V0Q29tbWVudExpa2VzIH0gZnJvbSAnQC9zZXJ2aWNlcy9CbG9nUG9zdC9ibG9nUG9zdC5zZXJ2aWNlJzsKaW1wb3J0IHsgZ2V0Q29tbWVudCB9IGZyb20gJ0Avc2VydmljZXMvQ29tbWVudC9jb21tZW50LnNlcnZpY2UnOwppbXBvcnQgeyBnZXRDb21tdW5pdHkgfSBmcm9tICdAL3NlcnZpY2VzL0NvbW11bml0eS9jb21tdW5pdHkuc2VydmljZSc7CmltcG9ydCB7IGlzSW5kZXhFeGlzdHMsIGdldEluZGV4QnlJZCB9IGZyb20gJ0AvdXRpbHMvYXJyYXkuanMnOwp2YXIgZGVmYXVsdFBhZ2UgPSAxOwp2YXIgc3RhdGUgPSB7CiAgdHlwZTogbnVsbCwKICBjdXJyZW50UGFnZTogZGVmYXVsdFBhZ2UsCiAgZGF0YTogewogICAgQmxvZ1Bvc3RzOiBbXSwKICAgIGlkOiAwLAogICAgVGFnczogW10sCiAgICBjb21tdW5pdHlSdWxlczogW10KICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8qKiBAVE9ETyBtb3ZlIHRvIEBzZWUgJ3NyY1xzdG9yZVxtb2R1bGVzXGJsb2dQb3N0Lm1vZHVsZS5qcycgKi8KICBzZXRGZWVkUGFnZTogZnVuY3Rpb24gc2V0RmVlZFBhZ2UoX3JlZiwgX3JlZjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICB2YXIgcGFnZSA9IF9yZWYyLnBhZ2UsCiAgICAgICAgdHlwZSA9IF9yZWYyLnR5cGU7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRGZWVkUGFnZScsIHBhZ2UpOwogICAgICAgICAgICAgIGRpc3BhdGNoKCdnZXRGZWVkRGF0YScsIHsKICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2UsCiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBnZXRGZWVkRGF0YTogZnVuY3Rpb24gZ2V0RmVlZERhdGEoX3JlZjQsIF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciB0eXBlLCBwYXlsb2FkLCBnZXREYXRhLCBkYXRhOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHR5cGUgPSBfcmVmMy50eXBlLCBwYXlsb2FkID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYzLCBbInR5cGUiXSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IHR5cGU7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSBfY29udGV4dDIudDAgPT09IGZlZWRUeXBlcy5ibG9nID8gNSA6IF9jb250ZXh0Mi50MCA9PT0gZmVlZFR5cGVzLmNvbW11bml0eSA/IDcgOiBfY29udGV4dDIudDAgPT09IGZlZWRUeXBlcy50YWdnZWQgPyA5IDogX2NvbnRleHQyLnQwID09PSBmZWVkVHlwZXMubGlrZXMgPyAxMSA6IF9jb250ZXh0Mi50MCA9PT0gZmVlZFR5cGVzLmNvbW1lbnRzID8gMTMgOiAxNTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBnZXREYXRhID0gZ2V0QmxvZ0RhdGE7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXRDb21tdW5pdHk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXRUYWdnZWRCbG9nUG9zdHM7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBnZXREYXRhID0gZ2V0QmxvZ1Bvc3RMaWtlczsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXRDb21tZW50TGlrZXM7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBnZXREYXRhID0gZ2V0TmV3c0ZlZWQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTcpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE5OwogICAgICAgICAgICAgIHJldHVybiBnZXREYXRhKHBheWxvYWQpOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRGZWVkVHlwZScsIHR5cGUpOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0RmVlZERhdGEnLCBkYXRhKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMxOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyLnQxLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQxOwoKICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDI0XV0pOwogICAgfSkpKCk7CiAgfSwKICBkZWxldGVCbG9nUG9zdDogZnVuY3Rpb24gZGVsZXRlQmxvZ1Bvc3QoX3JlZjUsIF9yZWY2KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGU7CiAgICB2YXIgaWQgPSBfcmVmNi5pZCwKICAgICAgICBwYXlsb2FkID0gX3JlZjYucGF5bG9hZDsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgaW5kZXg7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaW5kZXggPSBnZXRJbmRleEJ5SWQoaWQsIHN0YXRlLmRhdGEuQmxvZ1Bvc3RzKTsKCiAgICAgICAgICAgICAgaWYgKCFpc0luZGV4RXhpc3RzKGluZGV4KSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9kZWxldGVCbG9nUG9zdChpZCwgcGF5bG9hZCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY29tbWl0KCdkZWxldGVCbG9nUG9zdCcsIGluZGV4KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgdXBkYXRlQmxvZ1Bvc3REYXRhOiBmdW5jdGlvbiB1cGRhdGVCbG9nUG9zdERhdGEoX3JlZjcsIGlkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjcuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjcuc3RhdGU7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGluZGV4LCBwYXlsb2FkOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmIChzdGF0ZS5kYXRhLkJsb2dQb3N0cykgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgaW5kZXggPSBnZXRJbmRleEJ5SWQoaWQsIHN0YXRlLmRhdGEuQmxvZ1Bvc3RzKTsKCiAgICAgICAgICAgICAgaWYgKCFpc0luZGV4RXhpc3RzKGluZGV4KSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX29iamVjdFNwcmVhZDsKICAgICAgICAgICAgICBfY29udGV4dDQudDEgPSB7fTsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIGdldEJsb2dQb3N0KGlkKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dDQudDIgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDQudDMgPSB7fTsKICAgICAgICAgICAgICBfY29udGV4dDQudDQgPSBzdGF0ZS50eXBlID09PSBmZWVkVHlwZXMuY29tbWVudHM7CgogICAgICAgICAgICAgIGlmICghX2NvbnRleHQ0LnQ0KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiBnZXRDb21tZW50KHN0YXRlLmRhdGEuQmxvZ1Bvc3RzW2luZGV4XS5zaG93Q29tbWVudC5pZCk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIF9jb250ZXh0NC50NSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0NC50NCA9IHsKICAgICAgICAgICAgICAgIHNob3dDb21tZW50OiBfY29udGV4dDQudDUKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBfY29udGV4dDQudDYgPSBfY29udGV4dDQudDQ7CiAgICAgICAgICAgICAgcGF5bG9hZCA9ICgwLCBfY29udGV4dDQudDApKF9jb250ZXh0NC50MSwgX2NvbnRleHQ0LnQyLCBfY29udGV4dDQudDMsIF9jb250ZXh0NC50Nik7CiAgICAgICAgICAgICAgY29tbWl0KCd1cGRhdGVCbG9nUG9zdERhdGEnLCB7CiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsCiAgICAgICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldEZlZWRQYWdlOiBmdW5jdGlvbiBzZXRGZWVkUGFnZShzdGF0ZSwgcGFnZSkgewogICAgc3RhdGUuY3VycmVudFBhZ2UgPSBwYWdlIHx8IGRlZmF1bHRQYWdlOwogIH0sCiAgc2V0RmVlZERhdGE6IGZ1bmN0aW9uIHNldEZlZWREYXRhKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5kYXRhID0gcGF5bG9hZDsKICB9LAogIHNldEZlZWRUeXBlOiBmdW5jdGlvbiBzZXRGZWVkVHlwZShzdGF0ZSwgdHlwZSkgewogICAgc3RhdGUudHlwZSA9IHR5cGUgfHwgZmVlZFR5cGVzLm5ld3M7CiAgfSwKICB1cGRhdGVCbG9nUG9zdERhdGE6IGZ1bmN0aW9uIHVwZGF0ZUJsb2dQb3N0RGF0YShzdGF0ZSwgX3JlZjgpIHsKICAgIHZhciBpbmRleCA9IF9yZWY4LmluZGV4LAogICAgICAgIHBheWxvYWQgPSBfcmVmOC5wYXlsb2FkOwoKICAgIC8qKiBAVE9ETyBmaXggbmV3c2ZlZWQgaXQncyAnYmxvZ1Bvc3RzJyB0aGVyZSAqLwogICAgVnVlLnNldChzdGF0ZS5kYXRhLkJsb2dQb3N0cywgaW5kZXgsIHBheWxvYWQpOwogIH0sCgogIC8qKiBAVE9ETyByZXZpc2UgZGVsZXRlIGlzc3VlICovCiAgZGVsZXRlQmxvZ1Bvc3Q6IGZ1bmN0aW9uIGRlbGV0ZUJsb2dQb3N0KHN0YXRlLCBpbmRleCkgewogICAgVnVlLmRlbGV0ZShzdGF0ZS5kYXRhLkJsb2dQb3N0cywgaW5kZXgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["F:/Projects/fanexus/src/store/modules/feed.module.js"],"names":["Vue","feedTypes","getNewsFeed","getBlogPost","deleteBlogPost","getBlogData","getTaggedBlogPosts","getBlogPostLikes","getCommentLikes","getComment","getCommunity","isIndexExists","getIndexById","defaultPage","state","type","currentPage","data","BlogPosts","id","Tags","communityRules","actions","setFeedPage","commit","dispatch","page","pagination","getFeedData","payload","blog","community","tagged","likes","comments","getData","response","status","index","updateBlogPostData","showComment","mutations","setFeedData","setFeedType","news","set","delete"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport { feedTypes, getNewsFeed } from '@/services/feed.service';\r\nimport {\r\n  getBlogPost,\r\n  deleteBlogPost,\r\n  getBlogData\r\n} from '@/services/Blog/blog.service';\r\nimport { getTaggedBlogPosts } from '@/services/tag.service';\r\nimport {\r\n  getBlogPostLikes,\r\n  getCommentLikes\r\n} from '@/services/BlogPost/blogPost.service';\r\nimport { getComment } from '@/services/Comment/comment.service';\r\nimport { getCommunity } from '@/services/Community/community.service';\r\nimport { isIndexExists, getIndexById } from '@/utils/array.js';\r\n\r\nconst defaultPage = 1;\r\n\r\nconst state = {\r\n  type: null,\r\n  currentPage: defaultPage,\r\n  data: { BlogPosts: [], id: 0, Tags: [], communityRules: [] }\r\n};\r\n\r\nconst actions = {\r\n  /** @TODO move to @see 'src\\store\\modules\\blogPost.module.js' */\r\n  async setFeedPage({ commit, dispatch }, { page, type }) {\r\n    commit('setFeedPage', page);\r\n    dispatch('getFeedData', { pagination: page, type });\r\n  },\r\n  async getFeedData({ commit }, { type, ...payload }) {\r\n    let getData;\r\n    try {\r\n      switch (type) {\r\n        case feedTypes.blog:\r\n          getData = getBlogData;\r\n          break;\r\n        case feedTypes.community:\r\n          getData = getCommunity;\r\n          break;\r\n        case feedTypes.tagged:\r\n          getData = getTaggedBlogPosts;\r\n          break;\r\n        case feedTypes.likes:\r\n          getData = getBlogPostLikes;\r\n          break;\r\n        case feedTypes.comments:\r\n          getData = getCommentLikes;\r\n          break;\r\n        default:\r\n          getData = getNewsFeed;\r\n          break;\r\n      }\r\n      const data = await getData(payload);\r\n\r\n      commit('setFeedType', type);\r\n      commit('setFeedData', data);\r\n    } catch (e) {\r\n      if (e.response.status === 404) {\r\n        throw e;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  async deleteBlogPost({ commit, state }, { id, payload }) {\r\n    const index = getIndexById(id, state.data.BlogPosts);\r\n\r\n    if (isIndexExists(index)) {\r\n      await deleteBlogPost(id, payload);\r\n      commit('deleteBlogPost', index);\r\n    }\r\n  },\r\n  async updateBlogPostData({ commit, state }, id) {\r\n    if (!state.data.BlogPosts) return;\r\n\r\n    const index = getIndexById(id, state.data.BlogPosts);\r\n\r\n    if (isIndexExists(index)) {\r\n      const payload = {\r\n        ...(await getBlogPost(id)),\r\n        ...(state.type === feedTypes.comments && {\r\n          showComment: await getComment(\r\n            state.data.BlogPosts[index].showComment.id\r\n          )\r\n        })\r\n      };\r\n      commit('updateBlogPostData', { index, payload });\r\n    }\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n  setFeedPage(state, page) {\r\n    state.currentPage = page || defaultPage;\r\n  },\r\n  setFeedData(state, payload) {\r\n    state.data = payload;\r\n  },\r\n  setFeedType(state, type) {\r\n    state.type = type || feedTypes.news;\r\n  },\r\n  updateBlogPostData(state, { index, payload }) {\r\n    /** @TODO fix newsfeed it's 'blogPosts' there */\r\n    Vue.set(state.data.BlogPosts, index, payload);\r\n  },\r\n  /** @TODO revise delete issue */\r\n  deleteBlogPost(state, index) {\r\n    Vue.delete(state.data.BlogPosts, index);\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  actions,\r\n  mutations\r\n};\r\n"]}]}