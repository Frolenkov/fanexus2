{"remainingRequest":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\Projects\\fanexus\\src\\services\\api.service.js","dependencies":[{"path":"F:\\Projects\\fanexus\\src\\services\\api.service.js","mtime":1598358775520},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6XFxQcm9qZWN0c1xcZmFuZXh1c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFZ1ZUF4aW9zIGZyb20gJ3Z1ZS1heGlvcyc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC9zZXJ2aWNlcy9qd3Quc2VydmljZSc7CmltcG9ydCB7IEFQSV9VUkwgfSBmcm9tICdAL3NlcnZpY2VzL2NvbmZpZyc7CmV4cG9ydCB2YXIgYXBpSW5pdCA9IGZ1bmN0aW9uIGFwaUluaXQoKSB7CiAgVnVlLnVzZShWdWVBeGlvcywgYXhpb3MpOwogIFZ1ZS5heGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gQVBJX1VSTDsKICBWdWUuYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICBzZXRBcGlIZWFkZXIoKTsKICBheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogIH0pOwp9OwovKkBUT0RPIHJlbW92ZSB0aGlzIGZ1bmN0aW9uIGFzIHdlbGwgYXMgdGhlIGFsbCBtb2NrcyovCgpleHBvcnQgdmFyIGdldE1vY2tlZCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSkgewogICAgdmFyIHRpbWVPdXQsCiAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHRpbWVPdXQgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6IDEwMDA7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZGF0YSk7CiAgICAgICAgICAgICAgfSwgdGltZU91dCk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2V0TW9ja2VkKF94KSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKZXhwb3J0IHZhciBzZXRBcGlIZWFkZXIgPSBmdW5jdGlvbiBzZXRBcGlIZWFkZXIoKSB7CiAgdmFyIHRva2VuID0gZ2V0VG9rZW4oKTsKICBWdWUuYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuID8gIkJlYXJlciAiLmNvbmNhdChnZXRUb2tlbigpKSA6ICcnOwp9OwpleHBvcnQgdmFyIGdldCA9IGZ1bmN0aW9uIGdldChyZXNvdXJjZSwgY29uZmlnKSB7CiAgcmV0dXJuIGF4aW9zLmdldChyZXNvdXJjZSwgY29uZmlnKTsKfTsKZXhwb3J0IHZhciBwdXQgPSBmdW5jdGlvbiBwdXQocmVzb3VyY2UsIHBheWxvYWQpIHsKICByZXR1cm4gYXhpb3MucHV0KHJlc291cmNlLCBwYXlsb2FkKTsKfTsKZXhwb3J0IHZhciBwYXRjaCA9IGZ1bmN0aW9uIHBhdGNoKHJlc291cmNlLCBwYXlsb2FkKSB7CiAgcmV0dXJuIGF4aW9zLnBhdGNoKHJlc291cmNlLCBwYXlsb2FkKTsKfTsKZXhwb3J0IHZhciBwb3N0ID0gZnVuY3Rpb24gcG9zdChyZXNvdXJjZSwgcGF5bG9hZCkgewogIHJldHVybiBheGlvcy5wb3N0KHJlc291cmNlLCBwYXlsb2FkKTsKfTsKZXhwb3J0IHZhciByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUocmVzb3VyY2UsIGRhdGEpIHsKICByZXR1cm4gYXhpb3MuZGVsZXRlKHJlc291cmNlLCB7CiAgICBkYXRhOiBkYXRhCiAgfSk7Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBhcGlJbml0OiBhcGlJbml0LAogIHNldEFwaUhlYWRlcjogc2V0QXBpSGVhZGVyLAogIGdldDogZ2V0LAogIHBvc3Q6IHBvc3QsCiAgcGF0Y2g6IHBhdGNoLAogIHJlbW92ZTogcmVtb3ZlCn07"},{"version":3,"sources":["F:/Projects/fanexus/src/services/api.service.js"],"names":["Vue","axios","VueAxios","getToken","API_URL","apiInit","use","defaults","baseURL","withCredentials","setApiHeader","interceptors","response","data","error","Promise","reject","getMocked","timeOut","resolve","setTimeout","token","headers","common","get","resource","config","put","payload","patch","post","remove","delete"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAC3BL,EAAAA,GAAG,CAACM,GAAJ,CAAQJ,QAAR,EAAkBD,KAAlB;AACAD,EAAAA,GAAG,CAACC,KAAJ,CAAUM,QAAV,CAAmBC,OAAnB,GAA6BJ,OAA7B;AACAJ,EAAAA,GAAG,CAACC,KAAJ,CAAUM,QAAV,CAAmBE,eAAnB,GAAqC,IAArC;AACAC,EAAAA,YAAY;AACZT,EAAAA,KAAK,CAACU,YAAN,CAAmBC,QAAnB,CAA4BN,GAA5B,CACE,UAAAM,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GADV,EAEE,UAAAC,KAAK;AAAA,WAAIC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAJ;AAAA,GAFP;AAID,CATM;AAWP;;AACA,OAAO,IAAMG,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOJ,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAaK,YAAAA,OAAb,2DAAuB,IAAvB;AAAA,6CAChB,IAAIH,OAAJ,CAAY,UAAAI,OAAO;AAAA,qBAAIC,UAAU,CAAC;AAAA,uBAAMD,OAAO,CAACN,IAAD,CAAb;AAAA,eAAD,EAAsBK,OAAtB,CAAd;AAAA,aAAnB,CADgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATD,SAAS;AAAA;AAAA;AAAA,GAAf;AAGP,OAAO,IAAMP,YAAY,GAAG,SAAfA,YAAe,GAAM;AAChC,MAAMW,KAAK,GAAGlB,QAAQ,EAAtB;AACAH,EAAAA,GAAG,CAACC,KAAJ,CAAUM,QAAV,CAAmBe,OAAnB,CAA2BC,MAA3B,CAAkC,eAAlC,IAAqDF,KAAK,oBAC5ClB,QAAQ,EADoC,IAEtD,EAFJ;AAGD,CALM;AAMP,OAAO,IAAMqB,GAAG,GAAG,SAANA,GAAM,CAACC,QAAD,EAAWC,MAAX;AAAA,SAAsBzB,KAAK,CAACuB,GAAN,CAAUC,QAAV,EAAoBC,MAApB,CAAtB;AAAA,CAAZ;AACP,OAAO,IAAMC,GAAG,GAAG,SAANA,GAAM,CAACF,QAAD,EAAWG,OAAX;AAAA,SAAuB3B,KAAK,CAAC0B,GAAN,CAAUF,QAAV,EAAoBG,OAApB,CAAvB;AAAA,CAAZ;AACP,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACJ,QAAD,EAAWG,OAAX;AAAA,SAAuB3B,KAAK,CAAC4B,KAAN,CAAYJ,QAAZ,EAAsBG,OAAtB,CAAvB;AAAA,CAAd;AACP,OAAO,IAAME,IAAI,GAAG,SAAPA,IAAO,CAACL,QAAD,EAAWG,OAAX;AAAA,SAAuB3B,KAAK,CAAC6B,IAAN,CAAWL,QAAX,EAAqBG,OAArB,CAAvB;AAAA,CAAb;AACP,OAAO,IAAMG,MAAM,GAAG,SAATA,MAAS,CAACN,QAAD,EAAWZ,IAAX;AAAA,SAAoBZ,KAAK,CAAC+B,MAAN,CAAaP,QAAb,EAAuB;AAAEZ,IAAAA,IAAI,EAAJA;AAAF,GAAvB,CAApB;AAAA,CAAf;AAEP,eAAe;AAAER,EAAAA,OAAO,EAAPA,OAAF;AAAWK,EAAAA,YAAY,EAAZA,YAAX;AAAyBc,EAAAA,GAAG,EAAHA,GAAzB;AAA8BM,EAAAA,IAAI,EAAJA,IAA9B;AAAoCD,EAAAA,KAAK,EAALA,KAApC;AAA2CE,EAAAA,MAAM,EAANA;AAA3C,CAAf","sourcesContent":["import Vue from 'vue';\r\nimport axios from 'axios';\r\nimport VueAxios from 'vue-axios';\r\nimport { getToken } from '@/services/jwt.service';\r\nimport { API_URL } from '@/services/config';\r\n\r\nexport const apiInit = () => {\r\n  Vue.use(VueAxios, axios);\r\n  Vue.axios.defaults.baseURL = API_URL;\r\n  Vue.axios.defaults.withCredentials = true;\r\n  setApiHeader();\r\n  axios.interceptors.response.use(\r\n    response => response.data,\r\n    error => Promise.reject(error)\r\n  );\r\n};\r\n\r\n/*@TODO remove this function as well as the all mocks*/\r\nexport const getMocked = async (data, timeOut = 1000) => {\r\n  return new Promise(resolve => setTimeout(() => resolve(data), timeOut));\r\n};\r\nexport const setApiHeader = () => {\r\n  const token = getToken();\r\n  Vue.axios.defaults.headers.common['Authorization'] = token\r\n    ? `Bearer ${getToken()}`\r\n    : '';\r\n};\r\nexport const get = (resource, config) => axios.get(resource, config);\r\nexport const put = (resource, payload) => axios.put(resource, payload);\r\nexport const patch = (resource, payload) => axios.patch(resource, payload);\r\nexport const post = (resource, payload) => axios.post(resource, payload);\r\nexport const remove = (resource, data) => axios.delete(resource, { data });\r\n\r\nexport default { apiInit, setApiHeader, get, post, patch, remove };\r\n"]}]}