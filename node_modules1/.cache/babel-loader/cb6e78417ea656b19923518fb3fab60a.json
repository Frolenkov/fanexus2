{"remainingRequest":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Projects\\fanexus\\src\\views\\TagEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Projects\\fanexus\\src\\views\\TagEdit.vue","mtime":1597988881249},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRjpcXFByb2plY3RzXFxmYW5leHVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VGFnLCBjcmVhdGVUYWcsIGVkaXRUYWcgfSBmcm9tICdAL3NlcnZpY2VzL3RhZy5zZXJ2aWNlJzsKaW1wb3J0IEZvcm1CdXR0b24gZnJvbSAnfmNvbW1vbi9CdXR0b25zL0Zvcm1CdXR0b24nOwppbXBvcnQgRm9ybUlucHV0IGZyb20gJ35jb21tb24vRmllbGRzL0Zvcm1JbnB1dCc7CmltcG9ydCBUYWdJbnB1dCBmcm9tICd+Y29tbW9uL0ZpZWxkcy9UYWdJbnB1dCc7CmltcG9ydCBTaG93QWxsQnV0dG9uIGZyb20gJ35jb21tb24vQnV0dG9ucy9TaG93QWxsQnV0dG9uJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBuYW1lOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGb3JtQnV0dG9uOiBGb3JtQnV0dG9uLAogICAgRm9ybUlucHV0OiBGb3JtSW5wdXQsCiAgICBUYWdJbnB1dDogVGFnSW5wdXQsCiAgICBTaG93QWxsQnV0dG9uOiBTaG93QWxsQnV0dG9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3VGFnOiBmYWxzZSwKICAgICAgdGFnTmFtZTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgcGFyZW50VGFnTGlzdDogW10sCiAgICAgIGNoaWxkVGFnTGlzdDogW10sCiAgICAgIHN5bm9ueW1zOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YWdEYXRhOiBmdW5jdGlvbiB0YWdEYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IHRoaXMudGFnTmFtZSwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICBwYXJlbnRUYWdzOiB0aGlzLnBhcmVudFRhZ0xpc3QsCiAgICAgICAgY2hpbGRUYWdzOiB0aGlzLmNoaWxkVGFnTGlzdCwKICAgICAgICBzeW5vbnltczogdGhpcy5zeW5vbnltcwogICAgICB9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlTGlzdDogZnVuY3Rpb24gdXBkYXRlTGlzdChsaXN0LCBuZXdMaXN0KSB7CiAgICAgIHRoaXNbbGlzdF0gPSBuZXdMaXN0OwogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdGFnRGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldEV4YWN0VGFnKF90aGlzLm5hbWUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB0YWdEYXRhID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAodGFnRGF0YSkgewogICAgICAgICAgICAgICAgICBfdGhpcy50YWdOYW1lID0gdGFnRGF0YS5uYW1lOwogICAgICAgICAgICAgICAgICBfdGhpcy5kZXNjcmlwdGlvbiA9IHRhZ0RhdGEuZGVzY3JpcHRpb247CiAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudFRhZ0xpc3QgPSB0YWdEYXRhLnBhcmVudFRhZ3MubWFwKGZ1bmN0aW9uICh0YWcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFnLm5hbWU7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBfdGhpcy5jaGlsZFRhZ0xpc3QgPSB0YWdEYXRhLmNoaWxkVGFncy5tYXAoZnVuY3Rpb24gKHRhZykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWcubmFtZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN5bm9ueW1zID0gdGFnRGF0YS5zeW5vbnltcyB8fCBbXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm5ld1RhZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzLnRhZ05hbWUgPSBfdGhpcy5uYW1lOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEV4YWN0VGFnOiBmdW5jdGlvbiBnZXRFeGFjdFRhZyh0YWdOYW1lKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgbWF0Y2hlZFRhZ3M7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRUYWcodGFnTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5uYW1lID09PSB0YWdOYW1lOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBtYXRjaGVkVGFncyA9IF9jb250ZXh0Mi5zZW50LmZpbHRlcihfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFRhZ3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG1hdGNoZWRUYWdzWzBdKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlVGFnSWZOb3RFeGlzdDogZnVuY3Rpb24gY3JlYXRlVGFnSWZOb3RFeGlzdChuYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciB0YWdEYXRhLCBwYXlsb2FkLCBuZXdUYWc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0RXhhY3RUYWcobmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRhZ0RhdGEgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXRhZ0RhdGEpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgdGFnRGF0YS5uYW1lKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcGF5bG9hZCA9IFtuYW1lXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVGFnLmFwcGx5KHZvaWQgMCwgcGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBuZXdUYWcgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBuZXdUYWcubmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVQYXJlbnRBbmRDaGlsZFRhZ3M6IGZ1bmN0aW9uIGNyZWF0ZVBhcmVudEFuZENoaWxkVGFncygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChfdGhpczMucGFyZW50VGFnTGlzdC5tYXAoX3RoaXMzLmNyZWF0ZVRhZ0lmTm90RXhpc3QpLmNvbmNhdChfdGhpczMuY2hpbGRUYWdMaXN0Lm1hcChfdGhpczMuY3JlYXRlVGFnSWZOb3RFeGlzdCkpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3VibWl0VGFnRWRpdDogZnVuY3Rpb24gc3VibWl0VGFnRWRpdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHBheWxvYWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuY3JlYXRlUGFyZW50QW5kQ2hpbGRUYWdzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHBheWxvYWQgPSBbX3RoaXM0Lm5hbWUsIF90aGlzNC50YWdEYXRhXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC5uZXdUYWcpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVGFnLmFwcGx5KHZvaWQgMCwgcGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBlZGl0VGFnLmFwcGx5KHZvaWQgMCwgcGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnb1RvVGFnOiBmdW5jdGlvbiBnb1RvVGFnKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3RhZy1zaG93JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHN5bm9ueW06IHRoaXMubmFtZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuZ2V0RGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTYpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["TagEdit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"tag-edit\">\r\n    <form class=\"tag-edit__form\" @submit.prevent=\"submitTagEdit\" ref=\"form\">\r\n      <!-- @TODO fix input borders -->\r\n      <!-- add input labels, remove headers -->\r\n      <show-all-button\r\n        class=\"tag-edit__link-back\"\r\n        @click.native=\"goToTag()\"\r\n        text=\"Back to tag page\"\r\n      />\r\n      <form-input\r\n        :notBordered=\"true\"\r\n        class=\"tag-edit__input\"\r\n        labelText=\"Tag name\"\r\n        name=\"tag-name\"\r\n        placeholder=\"Tag name\"\r\n        v-model=\"tagName\"\r\n      />\r\n      <form-input\r\n        :notBordered=\"true\"\r\n        class=\"tag-edit__input\"\r\n        labelText=\"Tag Description\"\r\n        name=\"tag-description\"\r\n        placeholder=\"Tag description\"\r\n        v-model=\"description\"\r\n      />\r\n      <h4 class=\"tag-edit__title\">Parent tags:</h4>\r\n      <tag-input\r\n        class=\"tag-edit__input\"\r\n        name=\"parent-tags\"\r\n        placeholder=\"Add parent tag\"\r\n        :list=\"parentTagList\"\r\n        @listChange=\"updateList('parentTagList', $event)\"\r\n      />\r\n      <h4 class=\"tag-edit__title\">Child tags:</h4>\r\n      <tag-input\r\n        class=\"tag-edit__input\"\r\n        name=\"child-tags\"\r\n        placeholder=\"Add child tag\"\r\n        :list=\"childTagList\"\r\n        @listChange=\"updateList('childTagList', $event)\"\r\n      />\r\n      <h4 class=\"tag-edit__title\">Synonym Tags:</h4>\r\n      <tag-input\r\n        class=\"tag-edit__input\"\r\n        name=\"synonyms\"\r\n        placeholder=\"Add synonym\"\r\n        :list=\"synonyms\"\r\n        @listChange=\"updateList('synonyms', $event)\"\r\n      />\r\n      <div class=\"tag-edit__buttons\">\r\n        <form-button class=\"tag-edit__cancel-btn\" type=\"reset\" text=\"Cancel\" />\r\n        <form-button class=\"tag-edit__save-btn\" type=\"submit\" text=\"Save\" />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTag, createTag, editTag } from '@/services/tag.service';\r\nimport FormButton from '~common/Buttons/FormButton';\r\nimport FormInput from '~common/Fields/FormInput';\r\nimport TagInput from '~common/Fields/TagInput';\r\nimport ShowAllButton from '~common/Buttons/ShowAllButton';\r\n\r\nexport default {\r\n  props: {\r\n    name: {\r\n      required: true,\r\n      type: [Number, String]\r\n    }\r\n  },\r\n  components: {\r\n    FormButton,\r\n    FormInput,\r\n    TagInput,\r\n    ShowAllButton\r\n  },\r\n  data() {\r\n    return {\r\n      newTag: false,\r\n      tagName: '',\r\n      description: '',\r\n      parentTagList: [],\r\n      childTagList: [],\r\n      synonyms: []\r\n    };\r\n  },\r\n  computed: {\r\n    tagData() {\r\n      return {\r\n        name: this.tagName,\r\n        description: this.description,\r\n        parentTags: this.parentTagList,\r\n        childTags: this.childTagList,\r\n        synonyms: this.synonyms\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    updateList(list, newList) {\r\n      this[list] = newList;\r\n    },\r\n    async getData() {\r\n      try {\r\n        const tagData = await this.getExactTag(this.name);\r\n        if (tagData) {\r\n          this.tagName = tagData.name;\r\n          this.description = tagData.description;\r\n          this.parentTagList = tagData.parentTags.map(tag => tag.name);\r\n          this.childTagList = tagData.childTags.map(tag => tag.name);\r\n          this.synonyms = tagData.synonyms || [];\r\n        } else {\r\n          this.newTag = true;\r\n          this.tagName = this.name;\r\n        }\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    },\r\n    async getExactTag(tagName) {\r\n      const matchedTags = (await getTag(tagName)).filter(\r\n        result => result.name === tagName\r\n      );\r\n      if (matchedTags.length) {\r\n        return matchedTags[0];\r\n      }\r\n      return false;\r\n    },\r\n    async createTagIfNotExist(name) {\r\n      const tagData = await this.getExactTag(name);\r\n      if (tagData) {\r\n        return tagData.name;\r\n      } else {\r\n        const payload = [name];\r\n        const newTag = await createTag(...payload);\r\n        return newTag.name;\r\n      }\r\n    },\r\n    async createParentAndChildTags() {\r\n      await Promise.all(\r\n        this.parentTagList\r\n          .map(this.createTagIfNotExist)\r\n          .concat(this.childTagList.map(this.createTagIfNotExist))\r\n      );\r\n    },\r\n    async submitTagEdit() {\r\n      await this.createParentAndChildTags();\r\n      const payload = [this.name, this.tagData];\r\n      if (this.newTag) {\r\n        await createTag(...payload);\r\n      } else {\r\n        await editTag(...payload);\r\n      }\r\n    },\r\n    goToTag() {\r\n      this.$router.push({ name: 'tag-show', params: { synonym: this.name } });\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.getData();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n/** @TODO revise styling */\r\n.tag-edit {\r\n  padding: var(--element-padding-xl);\r\n  width: 100%;\r\n  overflow-y: auto;\r\n  grid-area: content;\r\n\r\n  &__form {\r\n    max-width: var(--width-large);\r\n  }\r\n\r\n  &__link-back {\r\n    margin-bottom: var(--element-margin-xs);\r\n  }\r\n\r\n  h4 {\r\n    color: var(--text-primary);\r\n    margin-bottom: var(--element-margin-xs);\r\n  }\r\n\r\n  &__input {\r\n    margin-bottom: var(--element-margin-l);\r\n    display: inline-block;\r\n    border-radius: var(--border-radius);\r\n    width: 680px;\r\n  }\r\n\r\n  &__cancel-btn {\r\n    margin-right: var(--element-margin-m);\r\n    min-width: 90px;\r\n  }\r\n\r\n  &__save-btn {\r\n    min-width: 90px;\r\n  }\r\n\r\n  &__buttons {\r\n    border-top: var(--border-width-thin) solid var(--popular-blog-divider);\r\n    padding-top: var(--element-padding-l);\r\n  }\r\n\r\n  &__title {\r\n    font-size: var(--size-button);\r\n    font-family: 'OpenSans-Bold', sans-serif;\r\n    margin-bottom: var(--element-margin-s);\r\n    color: var(--text-primary);\r\n  }\r\n}\r\n\r\n::v-deep {\r\n  input {\r\n    background-color: var(--BG-blog-post);\r\n  }\r\n\r\n  .tags-input-area {\r\n    border: none;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}