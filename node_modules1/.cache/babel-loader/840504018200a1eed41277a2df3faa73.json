{"remainingRequest":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!I:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js??ref--13-0!I:\\Projects\\fanexus\\src\\store\\modules\\alias.module.js","dependencies":[{"path":"I:\\Projects\\fanexus\\src\\store\\modules\\alias.module.js","mtime":1591173133998},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiSTpcXFByb2plY3RzXFxmYW5leHVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgZ2V0VXNlckFsaWFzZXMgYXMgX2dldFVzZXJBbGlhc2VzLCBzZXRBY3RpdmVBbGlhc0FwaSB9IGZyb20gJ0Avc2VydmljZXMvYWxpYXMuc2VydmljZSc7CmltcG9ydCB7IGdldEFjdGl2ZUFsaWFzU3RvcmFnZSwgc2V0QWN0aXZlQWxpYXNTdG9yYWdlLCByZW1vdmVBY3RpdmVBbGlhc1N0b3JhZ2UgfSBmcm9tICdAL3NlcnZpY2VzL3N0b3JhZ2Uuc2VydmljZSc7CnZhciBzdGF0ZSA9IHsKICB1c2VyQWxpYXNlczogW10sCiAgYWN0aXZlQWxpYXNJZDogZ2V0QWN0aXZlQWxpYXNTdG9yYWdlKCkKfTsKdmFyIGFjdGlvbnMgPSB7CiAgZ2V0VXNlckFsaWFzZXM6IGZ1bmN0aW9uIGdldFVzZXJBbGlhc2VzKF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHBheWxvYWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX2dldFVzZXJBbGlhc2VzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcGF5bG9hZCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyQWxpYXNlcycsIHBheWxvYWQpOwoKICAgICAgICAgICAgICBpZiAoIXN0YXRlLmFjdGl2ZUFsaWFzSWQpIHsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdpbml0QWN0aXZlQWxpYXMnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBpbml0QWN0aXZlQWxpYXM6IGZ1bmN0aW9uIGluaXRBY3RpdmVBbGlhcyhfcmVmMikgewogICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGUsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoKCdzZXRBY3RpdmVBbGlhcycsIHN0YXRlLnVzZXJBbGlhc2VzWzBdLmlkKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgc2V0QWN0aXZlQWxpYXM6IGZ1bmN0aW9uIHNldEFjdGl2ZUFsaWFzKF9yZWYzLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgc2V0QWN0aXZlQWxpYXNBcGkocGF5bG9hZCk7CiAgICBzZXRBY3RpdmVBbGlhc1N0b3JhZ2UocGF5bG9hZCk7CiAgICBjb21taXQoJ3NldEFjdGl2ZUFsaWFzJywgcGF5bG9hZCk7CiAgfSwKICByZW1vdmVBY3RpdmVBbGlhczogZnVuY3Rpb24gcmVtb3ZlQWN0aXZlQWxpYXMoX3JlZjQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICByZW1vdmVBY3RpdmVBbGlhc1N0b3JhZ2UoKTsKICAgIGNvbW1pdCgncmVtb3ZlQWN0aXZlQWxpYXMnKTsKICB9LAogIGNsZWFyVXNlckFsaWFzZXM6IGZ1bmN0aW9uIGNsZWFyVXNlckFsaWFzZXMoX3JlZjUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICBjb21taXQoJ2NsZWFyVXNlckFsaWFzZXMnKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0VXNlckFsaWFzZXM6IGZ1bmN0aW9uIHNldFVzZXJBbGlhc2VzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS51c2VyQWxpYXNlcyA9IHBheWxvYWQ7CiAgfSwKICBzZXRBY3RpdmVBbGlhczogZnVuY3Rpb24gc2V0QWN0aXZlQWxpYXMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmFjdGl2ZUFsaWFzSWQgPSBwYXlsb2FkOwogIH0sCiAgcmVtb3ZlQWN0aXZlQWxpYXM6IGZ1bmN0aW9uIHJlbW92ZUFjdGl2ZUFsaWFzKHN0YXRlKSB7CiAgICBzdGF0ZS5hY3RpdmVBbGlhc0lkID0gbnVsbDsKICB9LAogIGNsZWFyVXNlckFsaWFzZXM6IGZ1bmN0aW9uIGNsZWFyVXNlckFsaWFzZXMoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXJBbGlhc2VzID0gW107CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["I:/Projects/fanexus/src/store/modules/alias.module.js"],"names":["getUserAliases","setActiveAliasApi","getActiveAliasStorage","setActiveAliasStorage","removeActiveAliasStorage","state","userAliases","activeAliasId","actions","commit","dispatch","payload","initActiveAlias","id","setActiveAlias","removeActiveAlias","clearUserAliases","mutations","setUserAliases"],"mappings":";;AAAA,SAASA,cAAc,IAAdA,eAAT,EAAyBC,iBAAzB,QAAkD,0BAAlD;AACA,SACEC,qBADF,EAEEC,qBAFF,EAGEC,wBAHF,QAIO,4BAJP;AAMA,IAAMC,KAAK,GAAG;AACZC,EAAAA,WAAW,EAAE,EADD;AAEZC,EAAAA,aAAa,EAAEL,qBAAqB;AAFxB,CAAd;AAKA,IAAMM,OAAO,GAAG;AACRR,EAAAA,cADQ,gCACoC;AAAA,QAA3BS,MAA2B,QAA3BA,MAA2B;AAAA,QAAnBJ,KAAmB,QAAnBA,KAAmB;AAAA,QAAZK,QAAY,QAAZA,QAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAC1BV,eAAc,EADY;;AAAA;AAC1CW,cAAAA,OAD0C;AAEhDF,cAAAA,MAAM,CAAC,gBAAD,EAAmBE,OAAnB,CAAN;;AACA,kBAAI,CAACN,KAAK,CAACE,aAAX,EAA0B;AACxBG,gBAAAA,QAAQ,CAAC,iBAAD,CAAR;AACD;;AAL+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMjD,GAPa;AAQRE,EAAAA,eARQ,kCAQ6B;AAAA,QAAnBP,KAAmB,SAAnBA,KAAmB;AAAA,QAAZK,QAAY,SAAZA,QAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACzCA,cAAAA,QAAQ,CAAC,gBAAD,EAAmBL,KAAK,CAACC,WAAN,CAAkB,CAAlB,EAAqBO,EAAxC,CAAR;;AADyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE1C,GAVa;AAWdC,EAAAA,cAXc,iCAWaH,OAXb,EAWsB;AAAA,QAAnBF,MAAmB,SAAnBA,MAAmB;AAClCR,IAAAA,iBAAiB,CAACU,OAAD,CAAjB;AACAR,IAAAA,qBAAqB,CAACQ,OAAD,CAArB;AACAF,IAAAA,MAAM,CAAC,gBAAD,EAAmBE,OAAnB,CAAN;AACD,GAfa;AAgBdI,EAAAA,iBAhBc,oCAgBgB;AAAA,QAAVN,MAAU,SAAVA,MAAU;AAC5BL,IAAAA,wBAAwB;AACxBK,IAAAA,MAAM,CAAC,mBAAD,CAAN;AACD,GAnBa;AAoBdO,EAAAA,gBApBc,mCAoBe;AAAA,QAAVP,MAAU,SAAVA,MAAU;AAC3BA,IAAAA,MAAM,CAAC,kBAAD,CAAN;AACD;AAtBa,CAAhB;AAyBA,IAAMQ,SAAS,GAAG;AAChBC,EAAAA,cADgB,0BACDb,KADC,EACMM,OADN,EACe;AAC7BN,IAAAA,KAAK,CAACC,WAAN,GAAoBK,OAApB;AACD,GAHe;AAIhBG,EAAAA,cAJgB,0BAIDT,KAJC,EAIMM,OAJN,EAIe;AAC7BN,IAAAA,KAAK,CAACE,aAAN,GAAsBI,OAAtB;AACD,GANe;AAOhBI,EAAAA,iBAPgB,6BAOEV,KAPF,EAOS;AACvBA,IAAAA,KAAK,CAACE,aAAN,GAAsB,IAAtB;AACD,GATe;AAUhBS,EAAAA,gBAVgB,4BAUCX,KAVD,EAUQ;AACtBA,IAAAA,KAAK,CAACC,WAAN,GAAoB,EAApB;AACD;AAZe,CAAlB;AAeA,eAAe;AACbD,EAAAA,KAAK,EAALA,KADa;AAEbG,EAAAA,OAAO,EAAPA,OAFa;AAGbS,EAAAA,SAAS,EAATA;AAHa,CAAf","sourcesContent":["import { getUserAliases, setActiveAliasApi } from '@/services/alias.service';\r\nimport {\r\n  getActiveAliasStorage,\r\n  setActiveAliasStorage,\r\n  removeActiveAliasStorage\r\n} from '@/services/storage.service';\r\n\r\nconst state = {\r\n  userAliases: [],\r\n  activeAliasId: getActiveAliasStorage()\r\n};\r\n\r\nconst actions = {\r\n  async getUserAliases({ commit, state, dispatch }) {\r\n    const payload = await getUserAliases();\r\n    commit('setUserAliases', payload);\r\n    if (!state.activeAliasId) {\r\n      dispatch('initActiveAlias');\r\n    }\r\n  },\r\n  async initActiveAlias({ state, dispatch }) {\r\n    dispatch('setActiveAlias', state.userAliases[0].id);\r\n  },\r\n  setActiveAlias({ commit }, payload) {\r\n    setActiveAliasApi(payload);\r\n    setActiveAliasStorage(payload);\r\n    commit('setActiveAlias', payload);\r\n  },\r\n  removeActiveAlias({ commit }) {\r\n    removeActiveAliasStorage();\r\n    commit('removeActiveAlias');\r\n  },\r\n  clearUserAliases({ commit }) {\r\n    commit('clearUserAliases');\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n  setUserAliases(state, payload) {\r\n    state.userAliases = payload;\r\n  },\r\n  setActiveAlias(state, payload) {\r\n    state.activeAliasId = payload;\r\n  },\r\n  removeActiveAlias(state) {\r\n    state.activeAliasId = null;\r\n  },\r\n  clearUserAliases(state) {\r\n    state.userAliases = [];\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  actions,\r\n  mutations\r\n};\r\n"]}]}