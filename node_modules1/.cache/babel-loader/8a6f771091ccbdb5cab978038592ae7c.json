{"remainingRequest":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\Projects\\fanexus\\src\\components\\common\\SidebarForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\Projects\\fanexus\\src\\components\\common\\SidebarForm.vue","mtime":1593690157923},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJJOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBGb3JtQnV0dG9uIGZyb20gJy4vQnV0dG9ucy9Gb3JtQnV0dG9uJzsKaW1wb3J0IEZvcm1JbnB1dCBmcm9tICcuLi9jb21tb24vRmllbGRzL0Zvcm1JbnB1dCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBGb3JtQnV0dG9uOiBGb3JtQnV0dG9uLAogICAgRm9ybUlucHV0OiBGb3JtSW5wdXQKICB9LAogIHByb3BzOiB7CiAgICBzaG93QnV0dG9uczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBsYWNlaG9sZGVyTmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdDb21tdW5pdHkgTmFtZScKICAgIH0sCiAgICBwbGFjZWhvbGRlckRlc2M6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnQ29tbXVuaXR5IERlc2NyaXB0aW9uJwogICAgfSwKICAgIGVycm9yczogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIGRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICAgIGxpbmtzOiBbXSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqIEBUT0RPIHB1c2gganVzdCBlbXB0eSBzdHJpbmcsIG5vdCBvYmplY3QgKi8KICAgIGFkZExpbms6IGZ1bmN0aW9uIGFkZExpbmsoKSB7CiAgICAgIHRoaXMuZGF0YS5saW5rcy5wdXNoKCcnKTsKICAgIH0sCiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICBlbWl0Rm9ybURhdGE6IGZ1bmN0aW9uIGVtaXRGb3JtRGF0YSgpIHsKICAgICAgdmFyIGxpbmtzID0gdGhpcy5kYXRhLmxpbmtzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxpbmsgIT09ICcnOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5saW5rOwogICAgICB9KTsKICAgICAgdGhpcy4kZW1pdCgnc2F2ZScsIF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZGF0YSwgewogICAgICAgIGxpbmtzOiBsaW5rcwogICAgICB9KSk7CiAgICB9LAogICAgZmluZEVycm9yczogZnVuY3Rpb24gZmluZEVycm9ycyhwYXRoKSB7CiAgICAgIHJldHVybiB0aGlzLmVycm9ycy5maW5kKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBlcnJvci5wYXRoID09PSBwYXRoOwogICAgICB9KTsKICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbiBjbGVhckVycm9yKHBhdGgpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5lcnJvcnMuZmluZEluZGV4KGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBlcnJvci5wYXRoID09PSBwYXRoOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgdGhpcy5lcnJvcnMuc3BsaWNlKHRoaXMuZXJyb3JzLmZpbmRJbmRleChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiBlcnJvci5wYXRoID09PSBwYXRoOwogICAgICAgIH0pLCAxKTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hbWVFcnJvcnM6IGZ1bmN0aW9uIG5hbWVFcnJvcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbmRFcnJvcnMoJ25hbWUnKTsKICAgIH0sCiAgICBsaW5rRXJyb3JzOiBmdW5jdGlvbiBsaW5rRXJyb3JzKCkgewogICAgICB2YXIgbGlua0Vycm9ycyA9IHRoaXMuZmluZEVycm9ycygnbGluaycpOwoKICAgICAgaWYgKGxpbmtFcnJvcnMpIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgbGlua0Vycm9ycywgewogICAgICAgICAgbWVzc2FnZTogJ1RoaXMgY29tbXVuaXR5IGxpbmsgaGFzIGFscmVhZHkgYmVlbiB0YWtlbi4nCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBkZXNjcmlwdGlvbkVycm9yczogZnVuY3Rpb24gZGVzY3JpcHRpb25FcnJvcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbmRFcnJvcnMoJ2Rlc2NyaXB0aW9uJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SidebarForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,SAAA,EAAA;AAFA,GADA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,eAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,eAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KATA;AAaA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAbA;AAgBA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA;AACA,UAAA,IAAA,EAAA,IADA;AAEA,UAAA,KAAA,EAAA,EAFA;AAGA,UAAA,WAAA,EAAA;AAHA,SAAA;AAAA;AAFA;AAhBA,GALA;AA8BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,qBAEA;AACA,WAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AACA,KAJA;AAKA,IAAA,MALA,oBAKA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAPA;AASA,IAAA,YATA,0BASA;AACA,UAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CACA,MADA,CACA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,KAAA,EAAA;AAAA,OADA,EAEA,GAFA,CAEA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA;AAAA,OAFA,CAAA;AAGA,WAAA,KAAA,CAAA,MAAA,oBAAA,KAAA,IAAA;AAAA,QAAA,KAAA,EAAA;AAAA;AACA,KAdA;AAeA,IAAA,UAfA,sBAeA,IAfA,EAeA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,eAAA,KAAA,CAAA,IAAA,KAAA,IAAA;AACA,OAFA,CAAA;AAGA,KAnBA;AAoBA,IAAA,UApBA,sBAoBA,IApBA,EAoBA;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CAAA,SAAA,CAAA,UAAA,KAAA;AAAA,eAAA,KAAA,CAAA,IAAA,KAAA,IAAA;AAAA,OAAA,CAAA;;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA,CACA,KAAA,MAAA,CAAA,SAAA,CAAA,UAAA,KAAA;AAAA,iBAAA,KAAA,CAAA,IAAA,KAAA,IAAA;AAAA,SAAA,CADA,EAEA,CAFA;AAIA;AACA;AA5BA,GA9BA;AA4DA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,UAAA,CAAA,MAAA,CAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,UAAA,UAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA;;AACA,UAAA,UAAA,EAAA;AACA,iCACA,UADA;AAEA,UAAA,OAAA,EAAA;AAFA;AAIA;;AACA,aAAA,KAAA;AACA,KAbA;AAcA,IAAA,iBAdA,+BAcA;AACA,aAAA,KAAA,UAAA,CAAA,aAAA,CAAA;AACA;AAhBA;AA5DA,CAAA","sourcesContent":["<template>\r\n  <!-- take a conversation with @Vika if we need more editable field via props here -->\r\n  <form class=\"sidebar-form\">\r\n    <form-input\r\n      class=\"sidebar-form__name textarea big\"\r\n      :class=\"{ error: nameErrors }\"\r\n      type=\"textarea\"\r\n      name=\"Community Name\"\r\n      :placeholder=\"placeholderName\"\r\n      v-model=\"data.name\"\r\n      @input=\"clearError('name')\"\r\n    />\r\n    <span class=\"error__message\" v-if=\"nameErrors\">{{\r\n      nameErrors.message\r\n    }}</span>\r\n    <form-input\r\n      class=\"sidebar-form__description textarea small\"\r\n      :class=\"{ error: descriptionErrors }\"\r\n      type=\"textarea\"\r\n      name=\"Community description\"\r\n      :placeholder=\"placeholderDesc\"\r\n      v-model=\"data.description\"\r\n      @input=\"clearError('description')\"\r\n    />\r\n    <span class=\"error__message\" v-if=\"descriptionErrors\">{{\r\n      descriptionErrors.message\r\n    }}</span>\r\n    <h4 class=\"sidebar-form__title\">Create link</h4>\r\n    <form-input\r\n      class=\"sidebar-form__paste-link\"\r\n      :class=\"{ error: linkErrors }\"\r\n      type=\"text\"\r\n      name=\"Create link\"\r\n      placeholder=\"Create link\"\r\n      v-model=\"data.link\"\r\n      @input=\"clearError('link')\"\r\n    />\r\n    <span class=\"error__message\" v-if=\"linkErrors\">{{\r\n      linkErrors.message\r\n    }}</span>\r\n    <h4 class=\"sidebar-form__title\">My Links</h4>\r\n    <div>\r\n      <form-input\r\n        v-for=\"(input, index) in data.links\"\r\n        :key=\"index\"\r\n        class=\"sidebar-form__paste-link\"\r\n        type=\"text\"\r\n        name=\"Paste link\"\r\n        placeholder=\"Paste link\"\r\n        v-model=\"data.links[index]\"\r\n      />\r\n      <form-button\r\n        :plus=\"true\"\r\n        class=\"sidebar-form__btn-add-link\"\r\n        text=\"+ add link\"\r\n        @click.native.stop=\"addLink\"\r\n      />\r\n    </div>\r\n    <div v-if=\"showButtons\" class=\"sidebar-form__btns\">\r\n      <form-button @click.native.stop=\"goBack\" text=\"Cancel\" class=\"button\" />\r\n      <form-button\r\n        @click.native.stop.prevent=\"emitFormData\"\r\n        type=\"submit\"\r\n        text=\"Save\"\r\n        class=\"button button--submit\"\r\n      />\r\n    </div>\r\n  </form>\r\n</template>\r\n<script>\r\nimport FormButton from './Buttons/FormButton';\r\nimport FormInput from '../common/Fields/FormInput';\r\n\r\nexport default {\r\n  components: {\r\n    FormButton,\r\n    FormInput\r\n  },\r\n  props: {\r\n    showButtons: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    placeholderName: {\r\n      type: String,\r\n      default: 'Community Name'\r\n    },\r\n    placeholderDesc: {\r\n      type: String,\r\n      default: 'Community Description'\r\n    },\r\n    errors: {\r\n      type: Array\r\n    },\r\n    data: {\r\n      type: Object,\r\n      default: () => ({\r\n        name: null,\r\n        links: [],\r\n        description: null\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    /** @TODO push just empty string, not object */\r\n    addLink() {\r\n      this.data.links.push('');\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n\r\n    emitFormData() {\r\n      const links = this.data.links\r\n        .filter(item => item.link !== '')\r\n        .map(item => item.link);\r\n      this.$emit('save', { ...this.data, links });\r\n    },\r\n    findErrors(path) {\r\n      return this.errors.find(function(error) {\r\n        return error.path === path;\r\n      });\r\n    },\r\n    clearError(path) {\r\n      const index = this.errors.findIndex(error => error.path === path);\r\n      if (index > -1) {\r\n        this.errors.splice(\r\n          this.errors.findIndex(error => error.path === path),\r\n          1\r\n        );\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    nameErrors() {\r\n      return this.findErrors('name');\r\n    },\r\n    linkErrors() {\r\n      const linkErrors = this.findErrors('link');\r\n      if (linkErrors) {\r\n        return {\r\n          ...linkErrors,\r\n          message: 'This community link has already been taken.'\r\n        };\r\n      }\r\n      return false;\r\n    },\r\n    descriptionErrors() {\r\n      return this.findErrors('description');\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.sidebar-form {\r\n  background-color: var(--BG-blog-post);\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: var(--border-radius);\r\n  padding: var(--element-padding-s);\r\n  color: var(--text-primary);\r\n  font-size: var(--size-regular);\r\n\r\n  &__name {\r\n    margin-bottom: var(--element-margin-m);\r\n    min-height: 90px;\r\n  }\r\n\r\n  &__description {\r\n    margin-bottom: var(--element-margin-m);\r\n  }\r\n\r\n  &__title {\r\n    font-size: var(--size-regular);\r\n    font-family: 'OpenSans-Bold', sans-serif;\r\n    color: var(--text-primary);\r\n    margin-bottom: var(--element-margin-s);\r\n  }\r\n  &__paste-link {\r\n    margin-bottom: var(--element-margin-m);\r\n  }\r\n\r\n  &__btns {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: var(--element-padding-m) 0;\r\n    border-top: var(--border-width-thin) solid var(--border-block);\r\n    .button {\r\n      width: 85px;\r\n    }\r\n  }\r\n}\r\n.error__message {\r\n  font-size: var(--size-small);\r\n  color: var(--error);\r\n  margin-bottom: var(--element-margin-m);\r\n  &:first-letter {\r\n    text-transform: uppercase;\r\n  }\r\n}\r\n::v-deep .error {\r\n  margin-bottom: var(--element-margin-xs);\r\n  input,\r\n  textarea {\r\n    border-color: var(--border-input-error);\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/common"}]}