{"remainingRequest":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\Projects\\fanexus\\src\\store\\modules\\feed.module.js","dependencies":[{"path":"F:\\Projects\\fanexus\\src\\store\\modules\\feed.module.js","mtime":1595221465091},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkY6XFxQcm9qZWN0c1xcZmFuZXh1c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gIkY6XFxQcm9qZWN0c1xcZmFuZXh1c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBmZWVkVHlwZXMsIGdldE5ld3NGZWVkIH0gZnJvbSAnQC9zZXJ2aWNlcy9mZWVkLnNlcnZpY2UnOwppbXBvcnQgeyBnZXRCbG9nUG9zdCwgZGVsZXRlQmxvZ1Bvc3QgYXMgX2RlbGV0ZUJsb2dQb3N0LCBnZXRCbG9nRGF0YSB9IGZyb20gJ0Avc2VydmljZXMvQmxvZy9ibG9nLnNlcnZpY2UnOwppbXBvcnQgeyBnZXRUYWdnZWRCbG9nUG9zdHMgfSBmcm9tICdAL3NlcnZpY2VzL3RhZy5zZXJ2aWNlJzsKaW1wb3J0IHsgZ2V0QmxvZ1Bvc3RMaWtlcywgZ2V0Q29tbWVudExpa2VzIH0gZnJvbSAnQC9zZXJ2aWNlcy9CbG9nUG9zdC9ibG9nUG9zdC5zZXJ2aWNlJzsKaW1wb3J0IHsgZ2V0Q29tbWVudCB9IGZyb20gJ0Avc2VydmljZXMvQ29tbWVudC9jb21tZW50LnNlcnZpY2UnOwppbXBvcnQgeyBnZXRDb21tdW5pdHkgfSBmcm9tICdAL3NlcnZpY2VzL0NvbW11bml0eS9jb21tdW5pdHkuc2VydmljZSc7CmltcG9ydCB7IGlzSW5kZXhFeGlzdHMsIGdldEluZGV4QnlJZCB9IGZyb20gJ0AvdXRpbHMvYXJyYXkuanMnOwp2YXIgZGVmYXVsdFBhZ2UgPSAxOwp2YXIgc3RhdGUgPSB7CiAgdHlwZTogbnVsbCwKICBjdXJyZW50UGFnZTogZGVmYXVsdFBhZ2UsCiAgZGF0YTogewogICAgQmxvZ1Bvc3RzOiBbXSwKICAgIGlkOiAwCiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRCbG9nUG9zdEluZGV4QnlJZDogZnVuY3Rpb24gZ2V0QmxvZ1Bvc3RJbmRleEJ5SWQoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgcmV0dXJuIGdldEluZGV4QnlJZChpZCwgc3RhdGUuZGF0YS5CbG9nUG9zdHMpOwogICAgfTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIHNldEZlZWRQYWdlOiBmdW5jdGlvbiBzZXRGZWVkUGFnZShfcmVmLCBfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0LAogICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgIHZhciBwYWdlID0gX3JlZjIucGFnZSwKICAgICAgICB0eXBlID0gX3JlZjIudHlwZTsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQoJ3NldEZlZWRQYWdlJywgcGFnZSk7CiAgICAgICAgICAgICAgZGlzcGF0Y2goJ2dldEZlZWREYXRhJywgewogICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnZSwKICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGdldEZlZWREYXRhOiBmdW5jdGlvbiBnZXRGZWVkRGF0YShfcmVmNCwgX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHR5cGUsIHBheWxvYWQsIGdldERhdGEsIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdHlwZSA9IF9yZWYzLnR5cGUsIHBheWxvYWQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjMsIFsidHlwZSJdKTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gdHlwZTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IF9jb250ZXh0Mi50MCA9PT0gZmVlZFR5cGVzLmJsb2cgPyA1IDogX2NvbnRleHQyLnQwID09PSBmZWVkVHlwZXMuY29tbXVuaXR5ID8gNyA6IF9jb250ZXh0Mi50MCA9PT0gZmVlZFR5cGVzLnRhZ2dlZCA/IDkgOiBfY29udGV4dDIudDAgPT09IGZlZWRUeXBlcy5saWtlcyA/IDExIDogX2NvbnRleHQyLnQwID09PSBmZWVkVHlwZXMuY29tbWVudHMgPyAxMyA6IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXRCbG9nRGF0YTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgZ2V0RGF0YSA9IGdldENvbW11bml0eTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgZ2V0RGF0YSA9IGdldFRhZ2dlZEJsb2dQb3N0czsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXRCbG9nUG9zdExpa2VzOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJicmVhayIsIDE3KTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgZ2V0RGF0YSA9IGdldENvbW1lbnRMaWtlczsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXROZXdzRmVlZDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAxNyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgcmV0dXJuIGdldERhdGEocGF5bG9hZCk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldEZlZWRUeXBlJywgdHlwZSk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRGZWVkRGF0YScsIGRhdGEpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMjRdXSk7CiAgICB9KSkoKTsKICB9LAogIGRlbGV0ZUJsb2dQb3N0OiBmdW5jdGlvbiBkZWxldGVCbG9nUG9zdChfcmVmNSwgX3JlZjYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZTsKICAgIHZhciBpZCA9IF9yZWY2LmlkLAogICAgICAgIHBheWxvYWQgPSBfcmVmNi5wYXlsb2FkOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBpbmRleDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpbmRleCA9IGdldEluZGV4QnlJZChpZCwgc3RhdGUuZGF0YS5CbG9nUG9zdHMpOwoKICAgICAgICAgICAgICBpZiAoIWlzSW5kZXhFeGlzdHMoaW5kZXgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX2RlbGV0ZUJsb2dQb3N0KGlkLCBwYXlsb2FkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjb21taXQoJ2RlbGV0ZUJsb2dQb3N0JywgaW5kZXgpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICB1cGRhdGVCbG9nUG9zdERhdGE6IGZ1bmN0aW9uIHVwZGF0ZUJsb2dQb3N0RGF0YShfcmVmNywgaWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNy5zdGF0ZTsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgaW5kZXgsIHBheWxvYWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKHN0YXRlLmRhdGEuQmxvZ1Bvc3RzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBpbmRleCA9IGdldEluZGV4QnlJZChpZCwgc3RhdGUuZGF0YS5CbG9nUG9zdHMpOwoKICAgICAgICAgICAgICBpZiAoIWlzSW5kZXhFeGlzdHMoaW5kZXgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfb2JqZWN0U3ByZWFkOwogICAgICAgICAgICAgIF9jb250ZXh0NC50MSA9IHt9OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gZ2V0QmxvZ1Bvc3QoaWQpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0NC50MiA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0NC50MyA9IHt9OwogICAgICAgICAgICAgIF9jb250ZXh0NC50NCA9IHN0YXRlLnR5cGUgPT09IGZlZWRUeXBlcy5jb21tZW50czsKCiAgICAgICAgICAgICAgaWYgKCFfY29udGV4dDQudDQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbW1lbnQoc3RhdGUuZGF0YS5CbG9nUG9zdHNbaW5kZXhdLnNob3dDb21tZW50LmlkKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnQ1ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnQ0ID0gewogICAgICAgICAgICAgICAgc2hvd0NvbW1lbnQ6IF9jb250ZXh0NC50NQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIF9jb250ZXh0NC50NiA9IF9jb250ZXh0NC50NDsKICAgICAgICAgICAgICBwYXlsb2FkID0gKDAsIF9jb250ZXh0NC50MCkoX2NvbnRleHQ0LnQxLCBfY29udGV4dDQudDIsIF9jb250ZXh0NC50MywgX2NvbnRleHQ0LnQ2KTsKICAgICAgICAgICAgICBjb21taXQoJ3VwZGF0ZUJsb2dQb3N0RGF0YScsIHsKICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0RmVlZFBhZ2U6IGZ1bmN0aW9uIHNldEZlZWRQYWdlKHN0YXRlLCBwYWdlKSB7CiAgICBzdGF0ZS5jdXJyZW50UGFnZSA9IHBhZ2UgfHwgZGVmYXVsdFBhZ2U7CiAgfSwKICBzZXRGZWVkRGF0YTogZnVuY3Rpb24gc2V0RmVlZERhdGEoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmRhdGEgPSBwYXlsb2FkOwogIH0sCiAgc2V0RmVlZFR5cGU6IGZ1bmN0aW9uIHNldEZlZWRUeXBlKHN0YXRlLCB0eXBlKSB7CiAgICBzdGF0ZS50eXBlID0gdHlwZSB8fCBmZWVkVHlwZXMubmV3czsKICB9LAogIHVwZGF0ZUJsb2dQb3N0RGF0YTogZnVuY3Rpb24gdXBkYXRlQmxvZ1Bvc3REYXRhKHN0YXRlLCBfcmVmOCkgewogICAgdmFyIGluZGV4ID0gX3JlZjguaW5kZXgsCiAgICAgICAgcGF5bG9hZCA9IF9yZWY4LnBheWxvYWQ7CgogICAgLyoqIEBUT0RPIGZpeCBuZXdzZmVlZCBpdCdzICdibG9nUG9zdHMnIHRoZXJlICovCiAgICBWdWUuc2V0KHN0YXRlLmRhdGEuQmxvZ1Bvc3RzLCBpbmRleCwgcGF5bG9hZCk7CiAgfSwKCiAgLyoqIEBUT0RPIHJldmlzZSBkZWxldGUgaXNzdWUgKi8KICBkZWxldGVCbG9nUG9zdDogZnVuY3Rpb24gZGVsZXRlQmxvZ1Bvc3Qoc3RhdGUsIGluZGV4KSB7CiAgICBWdWUuZGVsZXRlKHN0YXRlLmRhdGEuQmxvZ1Bvc3RzLCBpbmRleCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["F:/Projects/fanexus/src/store/modules/feed.module.js"],"names":["Vue","feedTypes","getNewsFeed","getBlogPost","deleteBlogPost","getBlogData","getTaggedBlogPosts","getBlogPostLikes","getCommentLikes","getComment","getCommunity","isIndexExists","getIndexById","defaultPage","state","type","currentPage","data","BlogPosts","id","getters","getBlogPostIndexById","actions","setFeedPage","commit","dispatch","page","pagination","getFeedData","payload","blog","community","tagged","likes","comments","getData","index","updateBlogPostData","showComment","mutations","setFeedData","setFeedType","news","set","delete"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport { feedTypes, getNewsFeed } from '@/services/feed.service';\r\nimport {\r\n  getBlogPost,\r\n  deleteBlogPost,\r\n  getBlogData\r\n} from '@/services/Blog/blog.service';\r\nimport { getTaggedBlogPosts } from '@/services/tag.service';\r\nimport {\r\n  getBlogPostLikes,\r\n  getCommentLikes\r\n} from '@/services/BlogPost/blogPost.service';\r\nimport { getComment } from '@/services/Comment/comment.service';\r\nimport { getCommunity } from '@/services/Community/community.service';\r\nimport { isIndexExists, getIndexById } from '@/utils/array.js';\r\n\r\nconst defaultPage = 1;\r\n\r\nconst state = {\r\n  type: null,\r\n  currentPage: defaultPage,\r\n  data: { BlogPosts: [], id: 0 }\r\n};\r\n\r\nconst getters = {\r\n  getBlogPostIndexById: state => id => {\r\n    return getIndexById(id, state.data.BlogPosts);\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  async setFeedPage({ commit, dispatch }, { page, type }) {\r\n    commit('setFeedPage', page);\r\n    dispatch('getFeedData', { pagination: page, type });\r\n  },\r\n  async getFeedData({ commit }, { type, ...payload }) {\r\n    let getData;\r\n    try {\r\n      switch (type) {\r\n        case feedTypes.blog:\r\n          getData = getBlogData;\r\n          break;\r\n        case feedTypes.community:\r\n          getData = getCommunity;\r\n          break;\r\n        case feedTypes.tagged:\r\n          getData = getTaggedBlogPosts;\r\n          break;\r\n        case feedTypes.likes:\r\n          getData = getBlogPostLikes;\r\n          break;\r\n        case feedTypes.comments:\r\n          getData = getCommentLikes;\r\n          break;\r\n        default:\r\n          getData = getNewsFeed;\r\n          break;\r\n      }\r\n      const data = await getData(payload);\r\n\r\n      commit('setFeedType', type);\r\n      commit('setFeedData', data);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  },\r\n  async deleteBlogPost({ commit, state }, { id, payload }) {\r\n    const index = getIndexById(id, state.data.BlogPosts);\r\n\r\n    if (isIndexExists(index)) {\r\n      await deleteBlogPost(id, payload);\r\n      commit('deleteBlogPost', index);\r\n    }\r\n  },\r\n  async updateBlogPostData({ commit, state }, id) {\r\n    if (!state.data.BlogPosts) return;\r\n\r\n    const index = getIndexById(id, state.data.BlogPosts);\r\n\r\n    if (isIndexExists(index)) {\r\n      const payload = {\r\n        ...(await getBlogPost(id)),\r\n        ...(state.type === feedTypes.comments && {\r\n          showComment: await getComment(\r\n            state.data.BlogPosts[index].showComment.id\r\n          )\r\n        })\r\n      };\r\n      commit('updateBlogPostData', { index, payload });\r\n    }\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n  setFeedPage(state, page) {\r\n    state.currentPage = page || defaultPage;\r\n  },\r\n  setFeedData(state, payload) {\r\n    state.data = payload;\r\n  },\r\n  setFeedType(state, type) {\r\n    state.type = type || feedTypes.news;\r\n  },\r\n  updateBlogPostData(state, { index, payload }) {\r\n    /** @TODO fix newsfeed it's 'blogPosts' there */\r\n    Vue.set(state.data.BlogPosts, index, payload);\r\n  },\r\n  /** @TODO revise delete issue */\r\n  deleteBlogPost(state, index) {\r\n    Vue.delete(state.data.BlogPosts, index);\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n};\r\n"]}]}