{"remainingRequest":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!I:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js??ref--13-0!I:\\Projects\\fanexus\\src\\store\\modules\\feed.module.js","dependencies":[{"path":"I:\\Projects\\fanexus\\src\\store\\modules\\feed.module.js","mtime":1593701750468},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICJJOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiSTpcXFByb2plY3RzXFxmYW5leHVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJJOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCB7IGZlZWRUeXBlcywgZ2V0TmV3c0ZlZWQgfSBmcm9tICdAL3NlcnZpY2VzL2ZlZWQuc2VydmljZSc7CmltcG9ydCB7IGdldEJsb2dQb3N0LCBkZWxldGVCbG9nUG9zdCBhcyBfZGVsZXRlQmxvZ1Bvc3QsIGdldEJsb2dEYXRhIH0gZnJvbSAnQC9zZXJ2aWNlcy9CbG9nL2Jsb2cuc2VydmljZSc7CmltcG9ydCB7IGdldENvbW11bml0eSB9IGZyb20gJ0Avc2VydmljZXMvQ29tbXVuaXR5L2NvbW11bml0eS5zZXJ2aWNlJzsKaW1wb3J0IHsgaXNJbmRleEV4aXN0cywgZ2V0SW5kZXhCeUlkIH0gZnJvbSAnQC91dGlscy9hcnJheS5qcyc7CnZhciBkZWZhdWx0UGFnZSA9IDE7CnZhciBzdGF0ZSA9IHsKICB0eXBlOiBudWxsLAogIGN1cnJlbnRQYWdlOiBkZWZhdWx0UGFnZSwKICBkYXRhOiB7fQp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRCbG9nUG9zdEluZGV4QnlJZDogZnVuY3Rpb24gZ2V0QmxvZ1Bvc3RJbmRleEJ5SWQoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgcmV0dXJuIGdldEluZGV4QnlJZChpZCwgc3RhdGUuZGF0YS5CbG9nUG9zdHMpOwogICAgfTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIG5hdmlnYXRlQW5kU2V0QmxvZ1Bvc3RJZDogZnVuY3Rpb24gbmF2aWdhdGVBbmRTZXRCbG9nUG9zdElkKF9yZWYsIGlkKSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwoKICAgIGlmIChyb3V0ZXIuY3VycmVudFJvdXRlLm1ldGEuY3JlYXRlUG9zdCkgewogICAgICBpZiAoaWQpIHsKICAgICAgICByZXR1cm4gcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIiIuY29uY2F0KHJvdXRlci5jdXJyZW50Um91dGUubmFtZSwgIldpdGhCbG9nUG9zdCIpLAogICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZXIuY3VycmVudFJvdXRlLnBhcmFtcywgewogICAgICAgICAgICBwb3N0SWQ6IGlkCiAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiByb3V0ZXIuY3VycmVudFJvdXRlLm1ldGEucGFnZSwKICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwgcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXJhbXMsIHsKICAgICAgICAgICAgcG9zdElkOiB1bmRlZmluZWQKICAgICAgICAgIH0pCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGRpc3BhdGNoKCdzZXRCbG9nUG9zdElkJywgaWQsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgfQogIH0sCiAgc2V0RmVlZFBhZ2U6IGZ1bmN0aW9uIHNldEZlZWRQYWdlKF9yZWYyLCBfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgdmFyIHBhZ2UgPSBfcmVmMy5wYWdlLAogICAgICAgIHR5cGUgPSBfcmVmMy50eXBlOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCgnc2V0RmVlZFBhZ2UnLCBwYWdlKTsKICAgICAgICAgICAgICBkaXNwYXRjaCgnZ2V0RmVlZERhdGEnLCB7CiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdlLAogICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0RmVlZERhdGE6IGZ1bmN0aW9uIGdldEZlZWREYXRhKF9yZWY1LCBfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgdHlwZSwgcGF5bG9hZCwgZ2V0RGF0YSwgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0eXBlID0gX3JlZjQudHlwZSwgcGF5bG9hZCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmNCwgWyJ0eXBlIl0pOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSB0eXBlOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gX2NvbnRleHQyLnQwID09PSBmZWVkVHlwZXMuYmxvZyA/IDUgOiBfY29udGV4dDIudDAgPT09IGZlZWRUeXBlcy5jb21tdW5pdHkgPyA3IDogOTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBnZXREYXRhID0gZ2V0QmxvZ0RhdGE7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXRDb21tdW5pdHk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGdldERhdGEgPSBnZXROZXdzRmVlZDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAxMSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIGdldERhdGEocGF5bG9hZCk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldEZlZWRUeXBlJywgdHlwZSk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRGZWVkRGF0YScsIGRhdGEpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMThdXSk7CiAgICB9KSkoKTsKICB9LAogIGRlbGV0ZUJsb2dQb3N0OiBmdW5jdGlvbiBkZWxldGVCbG9nUG9zdChfcmVmNiwgX3JlZjcpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZTsKICAgIHZhciBpZCA9IF9yZWY3LmlkLAogICAgICAgIHBheWxvYWQgPSBfcmVmNy5wYXlsb2FkOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBpbmRleDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpbmRleCA9IGdldEluZGV4QnlJZChpZCwgc3RhdGUuZGF0YS5CbG9nUG9zdHMpOwoKICAgICAgICAgICAgICBpZiAoIWlzSW5kZXhFeGlzdHMoaW5kZXgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX2RlbGV0ZUJsb2dQb3N0KGlkLCBwYXlsb2FkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjb21taXQoJ2RlbGV0ZUJsb2dQb3N0JywgaW5kZXgpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICB1cGRhdGVCbG9nUG9zdERhdGE6IGZ1bmN0aW9uIHVwZGF0ZUJsb2dQb3N0RGF0YShfcmVmOCwgaWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmOC5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZTsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgaW5kZXgsIHBheWxvYWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKHN0YXRlLmRhdGEuQmxvZ1Bvc3RzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBpbmRleCA9IGdldEluZGV4QnlJZChpZCwgc3RhdGUuZGF0YS5CbG9nUG9zdHMpOwoKICAgICAgICAgICAgICBpZiAoIWlzSW5kZXhFeGlzdHMoaW5kZXgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0QmxvZ1Bvc3QoaWQpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHBheWxvYWQgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3VwZGF0ZUJsb2dQb3N0RGF0YScsIHsKICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRGZWVkUGFnZTogZnVuY3Rpb24gc2V0RmVlZFBhZ2Uoc3RhdGUsIHBhZ2UpIHsKICAgIHN0YXRlLmN1cnJlbnRQYWdlID0gcGFnZSB8fCBkZWZhdWx0UGFnZTsKICB9LAogIHNldEZlZWREYXRhOiBmdW5jdGlvbiBzZXRGZWVkRGF0YShzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuZGF0YSA9IHBheWxvYWQ7CiAgfSwKICBzZXRGZWVkVHlwZTogZnVuY3Rpb24gc2V0RmVlZFR5cGUoc3RhdGUsIHR5cGUpIHsKICAgIHN0YXRlLnR5cGUgPSB0eXBlIHx8IGZlZWRUeXBlcy5uZXdzOwogIH0sCiAgdXBkYXRlQmxvZ1Bvc3REYXRhOiBmdW5jdGlvbiB1cGRhdGVCbG9nUG9zdERhdGEoc3RhdGUsIF9yZWY5KSB7CiAgICB2YXIgaW5kZXggPSBfcmVmOS5pbmRleCwKICAgICAgICBwYXlsb2FkID0gX3JlZjkucGF5bG9hZDsKCiAgICAvKiogQFRPRE8gZml4IG5ld3NmZWVkIGl0J3MgJ2Jsb2dQb3N0cycgdGhlcmUgKi8KICAgIFZ1ZS5zZXQoc3RhdGUuZGF0YS5CbG9nUG9zdHMsIGluZGV4LCBwYXlsb2FkKTsKICB9LAoKICAvKiogQFRPRE8gcmV2aXNlIGRlbGV0ZSBpc3N1ZSAqLwogIGRlbGV0ZUJsb2dQb3N0OiBmdW5jdGlvbiBkZWxldGVCbG9nUG9zdChzdGF0ZSwgaW5kZXgpIHsKICAgIFZ1ZS5kZWxldGUoc3RhdGUuZGF0YS5CbG9nUG9zdHMsIGluZGV4KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["I:/Projects/fanexus/src/store/modules/feed.module.js"],"names":["Vue","router","feedTypes","getNewsFeed","getBlogPost","deleteBlogPost","getBlogData","getCommunity","isIndexExists","getIndexById","defaultPage","state","type","currentPage","data","getters","getBlogPostIndexById","id","BlogPosts","actions","navigateAndSetBlogPostId","dispatch","currentRoute","meta","createPost","push","name","params","postId","page","undefined","root","setFeedPage","commit","pagination","getFeedData","payload","blog","community","getData","index","updateBlogPostData","mutations","setFeedData","setFeedType","news","set","delete"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport router from '@/router';\r\nimport { feedTypes, getNewsFeed } from '@/services/feed.service';\r\nimport {\r\n  getBlogPost,\r\n  deleteBlogPost,\r\n  getBlogData\r\n} from '@/services/Blog/blog.service';\r\nimport { getCommunity } from '@/services/Community/community.service';\r\nimport { isIndexExists, getIndexById } from '@/utils/array.js';\r\n\r\nconst defaultPage = 1;\r\n\r\nconst state = {\r\n  type: null,\r\n  currentPage: defaultPage,\r\n  data: {}\r\n};\r\n\r\nconst getters = {\r\n  getBlogPostIndexById: state => id => {\r\n    return getIndexById(id, state.data.BlogPosts);\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  navigateAndSetBlogPostId({ dispatch }, id) {\r\n    if (router.currentRoute.meta.createPost) {\r\n      if (id) {\r\n        return router.push({\r\n          name: `${router.currentRoute.name}WithBlogPost`,\r\n          params: {\r\n            ...router.currentRoute.params,\r\n            postId: id\r\n          }\r\n        });\r\n      } else {\r\n        return router.push({\r\n          name: router.currentRoute.meta.page,\r\n          params: { ...router.currentRoute.params, postId: undefined }\r\n        });\r\n      }\r\n    } else {\r\n      dispatch('setBlogPostId', id, { root: true });\r\n    }\r\n  },\r\n  async setFeedPage({ commit, dispatch }, { page, type }) {\r\n    commit('setFeedPage', page);\r\n    dispatch('getFeedData', { pagination: page, type });\r\n  },\r\n  async getFeedData({ commit }, { type, ...payload }) {\r\n    let getData;\r\n    try {\r\n      switch (type) {\r\n        case feedTypes.blog:\r\n          getData = getBlogData;\r\n          break;\r\n        case feedTypes.community:\r\n          getData = getCommunity;\r\n          break;\r\n        default:\r\n          getData = getNewsFeed;\r\n          break;\r\n      }\r\n      const data = await getData(payload);\r\n\r\n      commit('setFeedType', type);\r\n      commit('setFeedData', data);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  },\r\n  async deleteBlogPost({ commit, state }, { id, payload }) {\r\n    const index = getIndexById(id, state.data.BlogPosts);\r\n\r\n    if (isIndexExists(index)) {\r\n      await deleteBlogPost(id, payload);\r\n      commit('deleteBlogPost', index);\r\n    }\r\n  },\r\n  async updateBlogPostData({ commit, state }, id) {\r\n    if (!state.data.BlogPosts) return;\r\n\r\n    const index = getIndexById(id, state.data.BlogPosts);\r\n\r\n    if (isIndexExists(index)) {\r\n      const payload = await getBlogPost(id);\r\n      commit('updateBlogPostData', { index, payload });\r\n    }\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n  setFeedPage(state, page) {\r\n    state.currentPage = page || defaultPage;\r\n  },\r\n  setFeedData(state, payload) {\r\n    state.data = payload;\r\n  },\r\n  setFeedType(state, type) {\r\n    state.type = type || feedTypes.news;\r\n  },\r\n  updateBlogPostData(state, { index, payload }) {\r\n    /** @TODO fix newsfeed it's 'blogPosts' there */\r\n    Vue.set(state.data.BlogPosts, index, payload);\r\n  },\r\n  /** @TODO revise delete issue */\r\n  deleteBlogPost(state, index) {\r\n    Vue.delete(state.data.BlogPosts, index);\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n};\r\n"]}]}