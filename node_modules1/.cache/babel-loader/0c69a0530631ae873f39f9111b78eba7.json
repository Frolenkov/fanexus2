{"remainingRequest":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Projects\\fanexus\\src\\components\\Community\\CommunityCreateCommunity.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Projects\\fanexus\\src\\components\\Community\\CommunityCreateCommunity.vue","mtime":1598010030066},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRjpcXFByb2plY3RzXFxmYW5leHVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJGOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBzZXR0aW5ncyBmcm9tICdAL3NlcnZpY2VzL0NvbW11bml0eS9jb21tdW5pdHkuc2V0dGluZ3MnOwppbXBvcnQgQWRkSW1hZ2UgZnJvbSAnLi4vY29tbW9uL0FkZEltYWdlJzsKaW1wb3J0IFRhYnMgZnJvbSAnLi4vY29tbW9uL1RhYnMnOwppbXBvcnQgdGFic01peGluIGZyb20gJ0AvbWl4aW5zL3RhYnMubWl4aW4nOwppbXBvcnQgQ29tbXVuaXR5UHJvZmlsZSBmcm9tICdAL2NvbXBvbmVudHMvQ29tbXVuaXR5L0NvbW11bml0eVByb2ZpbGUnOwppbXBvcnQgQ29tbXVuaXR5U2V0dGluZ3MgZnJvbSAnQC9jb21wb25lbnRzL0NvbW11bml0eS9Db21tdW5pdHlTZXR0aW5ncyc7CmltcG9ydCB7IGNyZWF0ZUNvbW11bml0eSwgYmxvZ0ltYWdlVHlwZXMsIGNvbW11bml0eVJvb3QsIGNvbW11bml0eUVkaXRBcmVhcyB9IGZyb20gJ0Avc2VydmljZXMvQ29tbXVuaXR5L2NvbW11bml0eS5zZXJ2aWNlJzsKaW1wb3J0IGdldENvbXBvbmVudHNCeVByZWZpeCBmcm9tICdAL3V0aWxzL2dldENvbXBvbmVudHNCeVByZWZpeCc7CmltcG9ydCBXYWxscGFwZXIgZnJvbSAnfmNvbW1vbi9XYWxscGFwZXInOwppbXBvcnQgRm9ybUJ1dHRvbiBmcm9tICd+Y29tbW9uL0J1dHRvbnMvRm9ybUJ1dHRvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBXYWxscGFwZXI6IFdhbGxwYXBlciwKICAgIEFkZEltYWdlOiBBZGRJbWFnZSwKICAgIFRhYnM6IFRhYnMsCiAgICBDb21tdW5pdHlQcm9maWxlOiBDb21tdW5pdHlQcm9maWxlLAogICAgQ29tbXVuaXR5U2V0dGluZ3M6IENvbW11bml0eVNldHRpbmdzLAogICAgRm9ybUJ1dHRvbjogRm9ybUJ1dHRvbgogIH0sCiAgbWl4aW5zOiBbdGFic01peGluXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmxvZ0ltYWdlVHlwZXM6IGJsb2dJbWFnZVR5cGVzLAogICAgICBlcnJvcnM6IFtdLAogICAgICBkYXRhOiB7CiAgICAgICAgbGlua3M6IFtdLAogICAgICAgIFRhZ3M6IFtdLAogICAgICAgIGNvbW11bml0eVJ1bGVzOiBbXSwKCiAgICAgICAgLyoqIEBUT0RPIHJldmlzZSBzdHJ1Y3R1cmUgKi8KICAgICAgICBmb2xsb3dzQWNjZXNzQ29udHJvbDogewogICAgICAgICAgYWNjZXNzQ29udHJvbFNldHRpbmc6IDEKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRBY2Nlc3NDb250cm9sOiB7CiAgICAgICAgICBhY2Nlc3NDb250cm9sU2V0dGluZzogMQogICAgICAgIH0sCiAgICAgICAgcmVhY3Rpb25zQWNjZXNzQ29udHJvbDogewogICAgICAgICAgYWNjZXNzQ29udHJvbFNldHRpbmc6IDEKICAgICAgICB9LAogICAgICAgIGNvbW1lbnRzQWNjZXNzQ29udHJvbDogewogICAgICAgICAgYWNjZXNzQ29udHJvbFNldHRpbmc6IDEKICAgICAgICB9LAogICAgICAgIG1lbWJlcnNBY2Nlc3NDb250cm9sOiB7CiAgICAgICAgICBhY2Nlc3NDb250cm9sU2V0dGluZzogMQogICAgICAgIH0sCiAgICAgICAgcG9zdGluZ0FjY2Vzc0NvbnRyb2w6IHsKICAgICAgICAgIGFjY2Vzc0NvbnRyb2xTZXR0aW5nOiAxCiAgICAgICAgfSwKCiAgICAgICAgLyoqIEBUT0RPIHJldmlzZSBkdW1teSBkYXRhICovCiAgICAgICAgY292ZXJJbWFnZTogewogICAgICAgICAgbmFtZTogJ25hbm9zdWl0JywKICAgICAgICAgIHNyYzogJycsCiAgICAgICAgICBiYXNlVXJsOiAnaHR0cDovL21lZGlhLmZhbmV4dXMubmV0L3VzZXJzL3Jvb3QvaW1hZ2VzLzg1MWNmYzVhLWQxOGEtNDU0MS05MWJhLTNhMzRjYTI4MzIzNCcsCiAgICAgICAgICBhbHQ6ICdhd2Vzb21lc3VpdCcsCiAgICAgICAgICBpZGVudGlmaWVyOiAnODUxY2ZjNWEtZDE4YS00NTQxLTkxYmEtM2EzNGNhMjgzMjM0JwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWN0aXZlVGFiOiAwLAogICAgICBjdXJyZW50Q29tcG9uZW50OiAnY29tbXVuaXR5LXByb2ZpbGUnLAogICAgICBzZXR0aW5nczogc2V0dGluZ3MsCiAgICAgIG5hdlRhYnM6IFt7CiAgICAgICAgdGl0bGU6ICdQcm9maWxlJywKICAgICAgICBjb21wb25lbnQ6IGNvbW11bml0eUVkaXRBcmVhcy5wcm9maWxlCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ1NldHRpbmdzJywKICAgICAgICBjb21wb25lbnQ6IGNvbW11bml0eUVkaXRBcmVhcy5zZXR0aW5ncwogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBhY3RpdmVBbGlhc0lkOiBmdW5jdGlvbiBhY3RpdmVBbGlhc0lkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hbGlhcy5hY3RpdmVBbGlhc0lkOwogICAgfQogIH0pLCB7CiAgICAvKiogQFRPRE8gbWFrZSBpdCBjb21tb24gYmV0d2VlbiBibG9nIGFuZCBjb21tdW5pdHkgKi8KICAgIGNvdmVySW1hZ2VEYXRhOiBmdW5jdGlvbiBjb3ZlckltYWdlRGF0YSgpIHsKICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgIXRoaXMuZGF0YS5jb3ZlckltYWdlKSByZXR1cm4gJyc7CiAgICAgIHJldHVybiB0aGlzLmRhdGEuY292ZXJJbWFnZS5hY2Nlc3NVcmwgfHwgdGhpcy5kYXRhLmNvdmVySW1hZ2Uuc3JjOwogICAgfSwKCiAgICAvKiogQFRPRE8gbWFrZSBpdCBjb21tb24gYmV0d2VlbiBibG9nIGFuZCBjb21tdW5pdHkgKi8KICAgIGNvbW11bml0eUNvbXBvbmVudHM6IGZ1bmN0aW9uIGNvbW11bml0eUNvbXBvbmVudHMoKSB7CiAgICAgIHJldHVybiBnZXRDb21wb25lbnRzQnlQcmVmaXguY2FsbCh0aGlzLCBjb21tdW5pdHlSb290KTsKICAgIH0sCiAgICB0YWdJdGVtczogZnVuY3Rpb24gdGFnSXRlbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnRhZ3MubWFwKGZ1bmN0aW9uICh0YWcpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogdGFnLAogICAgICAgICAgaWQ6IDAKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBzZXRDb21wb25lbnQ6IGZ1bmN0aW9uIHNldENvbXBvbmVudCgpIHsKICAgICAgdmFyIHRhYkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwogICAgICB2YXIgY29tcG9uZW50SW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgIHRoaXMuaGFuZGxlU2V0QWN0aXZlVGFiKHRhYkluZGV4KTsKICAgICAgdGhpcy5jdXJyZW50Q29tcG9uZW50ID0gWydjb21tdW5pdHktcHJvZmlsZScsICdjb21tdW5pdHktc2V0dGluZ3MnXVtjb21wb25lbnRJbmRleF07CiAgICB9LAogICAgaGFuZGxlQWRkSW1hZ2U6IGZ1bmN0aW9uIGhhbmRsZUFkZEltYWdlKF9yZWYpIHsKICAgICAgdmFyIHR5cGUgPSBfcmVmLnR5cGUsCiAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhOwogICAgICB0aGlzLmRhdGFbdHlwZV0gPSBfb2JqZWN0U3ByZWFkKHt9LCBkYXRhKTsKICAgIH0sCgogICAgLyoqIEBUT0RPIGNoZWNrIHRoaXMgaXNzdWUgQHNlZSBodHRwczovL3BybnQuc2Mvc3RmdXM1ICovCgogICAgLyoqIEBUT0RPIGNoZWNrIHRoaXMgaXNzdWUgQHNlZSBodHRwczovL3BybnQuc2Mvc3RiN3M3ICovCgogICAgLyoqIEBUT0RPIGNoZWNrIHRoaXMgaXNzdWUgQHNlZSBodHRwOi8vcHJudHNjci5jb20vc3RoMGFyICovCiAgICBvblNhdmU6IGZ1bmN0aW9uIG9uU2F2ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb3ZlckltYWdlLCBwYXlsb2FkLCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvKiogQFRPRE8gbWFrZSBpdCBjb21tb24gYmV0d2VlbiBibG9nIGFuZCBjb21tdW5pdHkgKi8KICAgICAgICAgICAgICAgIGNvdmVySW1hZ2UgPSBfdGhpcy5kYXRhLmNvdmVySW1hZ2U7CiAgICAgICAgICAgICAgICBwYXlsb2FkID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuZGF0YSwgewogICAgICAgICAgICAgICAgICBhbGlhczogX3RoaXMuYWN0aXZlQWxpYXNJZCwKICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uQXBwcm92YWw6ICdvcGVuJywKCiAgICAgICAgICAgICAgICAgIC8qKiBAVE9ETyBtYWtlIGl0IGR5bmFtaWMgKi8KICAgICAgICAgICAgICAgICAgbW9kZXJhdG9yczogW190aGlzLmFjdGl2ZUFsaWFzSWRdLAogICAgICAgICAgICAgICAgICBtZW1iZXJzOiBbX3RoaXMuYWN0aXZlQWxpYXNJZF0sCiAgICAgICAgICAgICAgICAgIHJ1bGVzOiBfdGhpcy5kYXRhLmNvbW11bml0eVJ1bGVzLm1hcChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYyLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gX3JlZjIuZGVzY3JpcHRpb247CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgdGFnTmFtZXM6IF90aGlzLmRhdGEuVGFncy5tYXAoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmMy5uYW1lOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lOwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7IC8vIHJlbW92ZSBlbXB0eSB2YWx1ZXMKCiAgICAgICAgICAgICAgICAvKiogQFRPRE8gcmV2aXNlIG90aGVyIHBsYWNlcyB0byBzd2l0Y2ggZGF0YSB0byBwYXlsb2FkICovCgogICAgICAgICAgICAgICAgcGF5bG9hZC5saW5rcyA9IHBheWxvYWQubGlua3MuZmlsdGVyKGZ1bmN0aW9uIChsaW5rKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5rLmxlbmd0aDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcGF5bG9hZC5ydWxlcyA9IHBheWxvYWQucnVsZXMuZmlsdGVyKGZ1bmN0aW9uIChydWxlcykgewogICAgICAgICAgICAgICAgICByZXR1cm4gcnVsZXMubmFtZS5sZW5ndGggfHwgcnVsZXMuZGVzY3JpcHRpb24ubGVuZ3RoOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCFjb3ZlckltYWdlLmFjY2Vzc1VybCkgewogICAgICAgICAgICAgICAgICBjb3ZlckltYWdlLnNyYyA9IGNvdmVySW1hZ2UuYmFzZVVybDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbW11bml0eShwYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UuaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnY29tbXVuaXR5JywKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmxpbmsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5lcnJvcnM7CiAgICAgICAgICAgICAgICBjb3ZlckltYWdlLnNyYyA9ICcnOwogICAgICAgICAgICAgICAgLyoqIEBUT0RPIHJldmlzZSAqLwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s1LCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24gY2xlYXJFcnJvcihwYXRoKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZXJyb3JzLmZpbmRJbmRleChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gZXJyb3IucGF0aCA9PT0gcGF0aDsKICAgICAgfSk7CgogICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgIHRoaXMuZXJyb3JzLnNwbGljZSh0aGlzLmVycm9ycy5maW5kSW5kZXgoZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gZXJyb3IucGF0aCA9PT0gcGF0aDsKICAgICAgICB9KSwgMSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["CommunityCreateCommunity.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"create-community\">\r\n    <form class=\"create-community__form\" @submit.prevent=\"onSave\" ref=\"form\">\r\n      <add-image\r\n        :type=\"blogImageTypes.coverImage\"\r\n        class=\"create-community__add-bg\"\r\n        button-text=\"Add Background\"\r\n        @add=\"handleAddImage\"\r\n      >\r\n        <wallpaper :src=\"coverImageData\" />\r\n      </add-image>\r\n      <tabs\r\n        :tabs=\"navTabs\"\r\n        @selectTab=\"$active => setComponent($active, $active)\"\r\n        :active=\"activeTab\"\r\n      />\r\n      <component\r\n        :is=\"currentComponent\"\r\n        v-model=\"data\"\r\n        :errors=\"errors\"\r\n        @clear-error=\"clearError\"\r\n      />\r\n      <div class=\"create-community__buttons\">\r\n        <form-button\r\n          class=\"create-community__cancel-btn\"\r\n          type=\"reset\"\r\n          text=\"Cancel\"\r\n        />\r\n        <form-button\r\n          class=\"create-community__save-btn\"\r\n          type=\"submit\"\r\n          text=\"Save\"\r\n        />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport settings from '@/services/Community/community.settings';\r\nimport AddImage from '../common/AddImage';\r\nimport Tabs from '../common/Tabs';\r\nimport tabsMixin from '@/mixins/tabs.mixin';\r\nimport CommunityProfile from '@/components/Community/CommunityProfile';\r\nimport CommunitySettings from '@/components/Community/CommunitySettings';\r\nimport {\r\n  createCommunity,\r\n  blogImageTypes,\r\n  communityRoot,\r\n  communityEditAreas\r\n} from '@/services/Community/community.service';\r\nimport getComponentsByPrefix from '@/utils/getComponentsByPrefix';\r\nimport Wallpaper from '~common/Wallpaper';\r\nimport FormButton from '~common/Buttons/FormButton';\r\n\r\nexport default {\r\n  components: {\r\n    Wallpaper,\r\n    AddImage,\r\n    Tabs,\r\n    CommunityProfile,\r\n    CommunitySettings,\r\n    FormButton\r\n  },\r\n  mixins: [tabsMixin],\r\n  data() {\r\n    return {\r\n      blogImageTypes,\r\n      errors: [],\r\n      data: {\r\n        links: [],\r\n        Tags: [],\r\n        communityRules: [],\r\n        /** @TODO revise structure */\r\n        followsAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        contentAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        reactionsAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        commentsAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        membersAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        postingAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        /** @TODO revise dummy data */\r\n        coverImage: {\r\n          name: 'nanosuit',\r\n          src: '',\r\n          baseUrl:\r\n            'http://media.fanexus.net/users/root/images/851cfc5a-d18a-4541-91ba-3a34ca283234',\r\n          alt: 'awesomesuit',\r\n          identifier: '851cfc5a-d18a-4541-91ba-3a34ca283234'\r\n        }\r\n      },\r\n      activeTab: 0,\r\n      currentComponent: 'community-profile',\r\n      settings,\r\n      navTabs: [\r\n        {\r\n          title: 'Profile',\r\n          component: communityEditAreas.profile\r\n        },\r\n        {\r\n          title: 'Settings',\r\n          component: communityEditAreas.settings\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      activeAliasId: state => state.alias.activeAliasId\r\n    }),\r\n    /** @TODO make it common between blog and community */\r\n    coverImageData() {\r\n      if (!this.data || !this.data.coverImage) return '';\r\n\r\n      return this.data.coverImage.accessUrl || this.data.coverImage.src;\r\n    },\r\n    /** @TODO make it common between blog and community */\r\n    communityComponents() {\r\n      return getComponentsByPrefix.call(this, communityRoot);\r\n    },\r\n    tagItems() {\r\n      return this.tags.map(tag => ({ name: tag, id: 0 }));\r\n    }\r\n  },\r\n  methods: {\r\n    setComponent(tabIndex = 0, componentIndex = 0) {\r\n      this.handleSetActiveTab(tabIndex);\r\n      this.currentComponent = ['community-profile', 'community-settings'][\r\n        componentIndex\r\n      ];\r\n    },\r\n    handleAddImage({ type, data }) {\r\n      this.data[type] = { ...data };\r\n    },\r\n    /** @TODO check this issue @see https://prnt.sc/stfus5 */\r\n    /** @TODO check this issue @see https://prnt.sc/stb7s7 */\r\n    /** @TODO check this issue @see http://prntscr.com/sth0ar */\r\n    async onSave() {\r\n      /** @TODO make it common between blog and community */\r\n      const { coverImage } = this.data;\r\n      const payload = {\r\n        ...this.data,\r\n        alias: this.activeAliasId,\r\n        subscriptionApproval: 'open',\r\n        /** @TODO make it dynamic */\r\n        moderators: [this.activeAliasId],\r\n        members: [this.activeAliasId],\r\n        rules: this.data.communityRules.map(({ name, description }) => ({\r\n          name,\r\n          description\r\n        })),\r\n        tagNames: this.data.Tags.map(({ name }) => name)\r\n      };\r\n      // remove empty values\r\n      /** @TODO revise other places to switch data to payload */\r\n      payload.links = payload.links.filter(link => link.length);\r\n      payload.rules = payload.rules.filter(\r\n        rules => rules.name.length || rules.description.length\r\n      );\r\n\r\n      if (!coverImage.accessUrl) {\r\n        coverImage.src = coverImage.baseUrl;\r\n      }\r\n\r\n      try {\r\n        const response = await createCommunity(payload);\r\n        if (response.id) {\r\n          return this.$router.push({\r\n            name: 'community',\r\n            params: { id: response.link }\r\n          });\r\n        }\r\n      } catch (e) {\r\n        this.errors = e.response.data.errors;\r\n        coverImage.src = '';\r\n        /** @TODO revise */\r\n      }\r\n    },\r\n    clearError(path) {\r\n      const index = this.errors.findIndex(error => error.path === path);\r\n      if (index > -1) {\r\n        this.errors.splice(\r\n          this.errors.findIndex(error => error.path === path),\r\n          1\r\n        );\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.create-community {\r\n  padding: var(--element-padding-xl);\r\n  grid-area: content;\r\n  overflow: auto;\r\n  background-color: var(--BG-primary);\r\n\r\n  &__add-bg {\r\n    ::v-deep .button {\r\n      padding: 8px var(--element-padding-xxl);\r\n    }\r\n  }\r\n\r\n  &__buttons {\r\n    margin-top: var(--element-margin-m);\r\n  }\r\n\r\n  &__cancel-btn {\r\n    margin-right: var(--element-margin-m);\r\n    min-width: 90px;\r\n  }\r\n\r\n  &__save-btn {\r\n    min-width: 90px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Community"}]}