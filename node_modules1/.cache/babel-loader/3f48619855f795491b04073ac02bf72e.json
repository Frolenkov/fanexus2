{"remainingRequest":"I:\\Projects\\fanexus\\node_modules\\thread-loader\\dist\\cjs.js!I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\Projects\\fanexus\\src\\views\\Community.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\Projects\\fanexus\\src\\views\\Community.vue","mtime":1590051838937},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiSTpcXFByb2plY3RzXFxmYW5leHVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJJOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdldENvbXBvbmVudHNCeVByZWZpeCBmcm9tICdAL3V0aWxzL2dldENvbXBvbmVudHNCeVByZWZpeCc7CmltcG9ydCB7IGNvbW11bml0eU1vZGFsVHlwZXMsIGNvbW11bml0eUFyZWFzLCBjb21tdW5pdHlSb290LCBnZXRDb21tdW5pdHksIGpvaW5Db21tdW5pdHksIHJlbW92ZUZyb21Db21tdW5pdHkgfSBmcm9tICdAL3NlcnZpY2VzL2NvbW11bml0eS5zZXJ2aWNlJzsKaW1wb3J0IE1lbWJlcnNNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvQ29tbXVuaXR5L01lbWJlcnNNb2RhbCc7CmltcG9ydCBBdmF0YXIgZnJvbSAnfmNvbW1vbi9BdmF0YXInOwppbXBvcnQgVGFicyBmcm9tICd+Y29tbW9uL1RhYnMnOwppbXBvcnQgdGFic01peGluIGZyb20gJ0AvbWl4aW5zL3RhYnMubWl4aW4nOwppbXBvcnQgU2lkZWJhckZvcm0gZnJvbSAnfmNvbW1vbi9TaWRlYmFyRm9ybSc7CmltcG9ydCBTaWRlYmFySW5mbyBmcm9tICd+Y29tbW9uL1NpZGViYXJJbmZvJzsKaW1wb3J0IFNpZGViYXJUYWdzIGZyb20gJ35jb21tb24vU2lkZWJhclRhZ3MnOwppbXBvcnQgV2FsbHBhcGVyIGZyb20gJ35jb21tb24vV2FsbHBhcGVyJzsKaW1wb3J0IEFkZEltYWdlIGZyb20gJ35jb21tb24vQWRkSW1hZ2UnOwppbXBvcnQgQmxvZ1NldHRpbmdzIGZyb20gJ0AvY29tcG9uZW50cy9CbG9nL0Jsb2dTZXR0aW5ncyc7CmltcG9ydCBNb2RlcmF0aW9uUmVxdWVzdE1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9Db21tdW5pdHkvTW9kZXJhdGlvblJlcXVlc3RNb2RhbCc7CmltcG9ydCBDb21tdW5pdHlNZW1iZXJzIGZyb20gJ0AvY29tcG9uZW50cy9Db21tdW5pdHkvQ29tbXVuaXR5TWVtYmVycyc7CmltcG9ydCBDb21tdW5pdHlNb2RlcmF0b3JzIGZyb20gJ0AvY29tcG9uZW50cy9Db21tdW5pdHkvQ29tbXVuaXR5TW9kZXJhdG9ycyc7CmltcG9ydCBDb21tdW5pdHlSdWxlcyBmcm9tICdAL2NvbXBvbmVudHMvQ29tbXVuaXR5L0NvbW11bml0eVJ1bGVzJzsKaW1wb3J0IENvbW11bml0eVJlcXVlc3RzIGZyb20gJ0AvY29tcG9uZW50cy9Db21tdW5pdHkvQ29tbXVuaXR5UmVxdWVzdHMnOwppbXBvcnQgQ29tbXVuaXR5Q3JlYXRlUnVsZXMgZnJvbSAnQC9jb21wb25lbnRzL0NvbW11bml0eS9Db21tdW5pdHlDcmVhdGVSdWxlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIC8vIEBUT0RPIHJldmlzZSBpdAogICAgc2lkZWJhckNyZWF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTW9kZXJhdGlvblJlcXVlc3RNb2RhbDogTW9kZXJhdGlvblJlcXVlc3RNb2RhbCwKICAgIEF2YXRhcjogQXZhdGFyLAogICAgVGFiczogVGFicywKICAgIFNpZGViYXJGb3JtOiBTaWRlYmFyRm9ybSwKICAgIFNpZGViYXJUYWdzOiBTaWRlYmFyVGFncywKICAgIEFkZEltYWdlOiBBZGRJbWFnZSwKICAgIEJsb2dTZXR0aW5nczogQmxvZ1NldHRpbmdzLAogICAgU2lkZWJhckluZm86IFNpZGViYXJJbmZvLAogICAgV2FsbHBhcGVyOiBXYWxscGFwZXIsCiAgICBNZW1iZXJzTW9kYWw6IE1lbWJlcnNNb2RhbCwKICAgIENvbW11bml0eUNyZWF0ZVJ1bGVzOiBDb21tdW5pdHlDcmVhdGVSdWxlcywKICAgIC8vIGNvbW11bml0eUFyZWFzICh0aGUgb3JkZXIgc2hvdWxkIGJlIHN0cmljdCkKICAgIENvbW11bml0eU1lbWJlcnM6IENvbW11bml0eU1lbWJlcnMsCiAgICBDb21tdW5pdHlSdWxlczogQ29tbXVuaXR5UnVsZXMsCiAgICBDb21tdW5pdHlNb2RlcmF0b3JzOiBDb21tdW5pdHlNb2RlcmF0b3JzLAogICAgQ29tbXVuaXR5UmVxdWVzdHM6IENvbW11bml0eVJlcXVlc3RzCiAgfSwKICBtaXhpbnM6IFt0YWJzTWl4aW5dLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX21vZGFsU2V0dGluZ3M7CgogICAgcmV0dXJuIHsKICAgICAgZGF0YTogbnVsbCwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGFjdGl2ZVRhYjogMCwKICAgICAgY3VycmVudENvbXBvbmVudDogbnVsbCwKICAgICAgLy8gQFRPRE8gdGFsayB3aXRoIERvcmlhbiBhYm91dCB0eXBlIG9mIGRhdGEucnVsZXMKICAgICAgbmF2VGFiczogW3sKICAgICAgICB0aXRsZTogJ01lbWJlcnMnLAogICAgICAgIGNvbXBvbmVudDogY29tbXVuaXR5QXJlYXMubWVtYmVycwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdSdWxlcycsCiAgICAgICAgY29tcG9uZW50OiBjb21tdW5pdHlBcmVhcy5ydWxlcwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdNb2RlcmF0b3JzJywKICAgICAgICBjb21wb25lbnQ6IGNvbW11bml0eUFyZWFzLm1vZGVyYXRvcnMKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAnUmVxdWVzdHMnLAogICAgICAgIGNvbXBvbmVudDogY29tbXVuaXR5QXJlYXMucmVxdWVzdHMKICAgICAgfV0sCiAgICAgIG1vZGVyYXRpb25Nb2RhbFNldHRpbmdzOiB7CiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgdGl0bGU6ICdNb2RlcmF0aW9uIHJlcXVlc3QnLAogICAgICAgIGRpc21pc3NUZXh0OiAnRGVjbGluZScsCiAgICAgICAgYWN0aW9uVGV4dDogJ0FjY2VwdCcKICAgICAgfSwKICAgICAgY29tbXVuaXR5TW9kYWxUeXBlczogY29tbXVuaXR5TW9kYWxUeXBlcywKICAgICAgbW9kYWxUeXBlOiBjb21tdW5pdHlNb2RhbFR5cGVzLmFkZE1lbWJlcnMsCiAgICAgIG1vZGFsU2V0dGluZ3M6IChfbW9kYWxTZXR0aW5ncyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX21vZGFsU2V0dGluZ3MsIGNvbW11bml0eU1vZGFsVHlwZXMuYWRkTWVtYmVycywgewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIHRpdGxlOiAnQ2hvb3NlIG5ldyBtZW1iZXJzIG9mIHRoZSBzZWN1cml0eSBncm91cCcsCiAgICAgICAgZGlzbWlzc1RleHQ6ICdDYW5jZWwnLAogICAgICAgIGFjdGlvblRleHQ6ICcrIEFkZCcKICAgICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbW9kYWxTZXR0aW5ncywgY29tbXVuaXR5TW9kYWxUeXBlcy5kZWxldGVNZW1iZXJzLCB7CiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgdGl0bGU6ICdDaG9vc2UgbWVtYmVycyB0byBkZWxldGUgZnJvbSB0aGUgcHJpdmFjeSBncm91cCcsCiAgICAgICAgZGlzbWlzc1RleHQ6ICdDYW5jZWwnLAogICAgICAgIGFjdGlvblRleHQ6ICdEZWxldGUnCiAgICAgIH0pLCBfbW9kYWxTZXR0aW5ncyksCiAgICAgIC8vQFRPRE8gY2hhbmdlIHRvIHJlYWwgZGF0YQogICAgICBtb2RlcmF0aW9uTW9kYWxEYXRhOiB7CiAgICAgICAgYWxpYXM6IHsKICAgICAgICAgIG5hbWU6ICdjb21tdW5pdHkgbmFtZScsCiAgICAgICAgICBpbWFnZTogJ2h0dHBzOi8vY2RuMi5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3N1cGVyLWhlcm8vMTU0L2JhdG1hbi1jb21pY3MtaGVyby1hdmF0YXItaGVhZC1tYXNrLTUxMi5wbmcnCiAgICAgICAgfSwKICAgICAgICBjb250ZW50OiAiTG9yZW0gSXBzdW0gaXMgc2ltcGx5IGR1bW15IHRleHQgb2YgdGhlIHByaW50aW5nIGFuZCB0eXBlc2V0dGluZyBpbmR1c3RyeS4gTG9yZW0gSXBzdW0gaGFzIGJlZW4gdGhlIGluZHVzdHJ5J3Mgc3RhbmRhcmQgZHVtbXkgdGV4dCBldmVyIHNpbmNlIHRoZSAxNTAwcywgd2hlbiBhbiB1bmtub3duIHByaW50ZXIgdG9vayBhIGdhbGxleSBvZiB0eXBlIGFuZCBzY3JhbWJsZWQgaXQgdG8gbWFrZSBhIHR5cGUgc3BlY2ltZW4gYm9vay4gSXQgaGFzIHN1cnZpdmVkIG5vdCBvbmx5IGZpdmUgY2VudHVyaWVzLCBidXQgYWxzbyB0aGUgbGVhcCBpbnRvIGVsZWN0cm9uaWMgdHlwZXNldHRpbmcsIHJlbWFpbmluZyBlc3NlbnRpYWxseSB1bmNoYW5nZWQuIEl0IHdhcyBwb3B1bGFyaXNlZCBpbiB0aGUgMTk2MHMgd2l0aCB0aGUgcmVsZWFzZSBvZiBMZXRyYXNldCBzaGVldHMgY29udGFpbmluZyBMb3JlbSBJcHN1bSBwYXNzYWdlcywgYW5kIG1vcmUgcmVjZW50bHkgd2l0aCBkZXNrdG9wIHB1Ymxpc2hpbmcgc29mdHdhcmUgbGlrZSBBbGR1cyBQYWdlTWFrZXIgaW5jbHVkaW5nIHZlcnNpb25zIG9mIExvcmVtIElwc3VtIiwKICAgICAgICBpbWFnZTogewogICAgICAgICAgc3JjOiAnaHR0cHM6Ly9pLnBpbmltZy5jb20vb3JpZ2luYWxzLzJiLzUyLzdkLzJiNTI3ZGZiZTY3MGNkNWE3NDY0MjVlYjMwZTI3NDBkLmpwZycsCiAgICAgICAgICBuYW1lOiAnZ290aGFtIGNpdHknCiAgICAgICAgfSwKICAgICAgICB0YWdzOiBbewogICAgICAgICAgaWQ6IDUyMDIyMDA5MzEyMjM2NDksCiAgICAgICAgICBuYW1lOiAnYmF0bWFuJwogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiAxMzk1NzMyODQ0OTIyMzEsCiAgICAgICAgICBuYW1lOiAnZ290aGFtJwogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiAxMzk1NzMyODQ0OTIyMzIsCiAgICAgICAgICBuYW1lOiAnZ290aGFtJwogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiAxMzk1NzMyODQ0OTIyMzMsCiAgICAgICAgICBuYW1lOiAnZ290aGFtJwogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiAxMzk1NzMyODQ0OTIyMzQsCiAgICAgICAgICBuYW1lOiAnZ290aGFtJwogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiAxMzk1NzMyODQ0OTIyMzUsCiAgICAgICAgICBuYW1lOiAnZ290aGFtJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29tbXVuaXR5Q29tcG9uZW50czogZnVuY3Rpb24gY29tbXVuaXR5Q29tcG9uZW50cygpIHsKICAgICAgcmV0dXJuIGdldENvbXBvbmVudHNCeVByZWZpeC5jYWxsKHRoaXMsIGNvbW11bml0eVJvb3QpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tbXVuaXR5KF90aGlzLmlkLCBfdGhpcy5jdXJyZW50UGFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLmRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIEBUT0RPIGNoYW5nZSBwYXlsb2FkICovCiAgICBzdWJzY3JpYmVUb0NvbW11bml0eTogZnVuY3Rpb24gc3Vic2NyaWJlVG9Db21tdW5pdHkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwYXlsb2FkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBhbGlhczogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBqb2luQ29tbXVuaXR5KF90aGlzMi5kYXRhLmlkLCBwYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXMyLmRhdGEuYWxpYXNJc01lbWJlciA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gQFRPRE8gaW1wbGVtZW50IGluIGZ1dHVyZSovCiAgICB1bnN1YnNjcmliZUZyb21Db21tdW5pdHk6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlRnJvbUNvbW11bml0eSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHBheWxvYWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgIGFsaWFzOiAxLAogICAgICAgICAgICAgICAgICByZW1vdmVNZW1iZXJJZDogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVGcm9tQ29tbXVuaXR5KF90aGlzMy5kYXRhLmlkLCBwYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXMzLmRhdGEuYWxpYXNJc01lbWJlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZU1vZGFsT3BlbjogZnVuY3Rpb24gaGFuZGxlTW9kYWxPcGVuKG1vZGFsVHlwZSkgewogICAgICB0aGlzLm1vZGFsVHlwZSA9IG1vZGFsVHlwZTsKICAgICAgdGhpcy5tb2RhbFNldHRpbmdzW21vZGFsVHlwZV0uc2hvdyA9IHRydWU7CiAgICB9LAogICAgc2V0Q29tcG9uZW50OiBmdW5jdGlvbiBzZXRDb21wb25lbnQoKSB7CiAgICAgIHZhciB0YWJJbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDsKICAgICAgdmFyIGNvbXBvbmVudEluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwogICAgICB0aGlzLmhhbmRsZVNldEFjdGl2ZVRhYih0YWJJbmRleCk7CiAgICAgIHRoaXMuY3VycmVudENvbXBvbmVudCA9IHRoaXMuY29tbXVuaXR5Q29tcG9uZW50c1tjb21wb25lbnRJbmRleF07CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZ2V0RGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF90aGlzNC5zZXRDb21wb25lbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["Community.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,OAAA,qBAAA,MAAA,+BAAA;AACA,SACA,mBADA,EAEA,cAFA,EAGA,aAHA,EAIA,YAJA,EAKA,aALA,EAMA,mBANA,QAOA,8BAPA;AAQA,OAAA,YAAA,MAAA,qCAAA;AACA,OAAA,MAAA,MAAA,gBAAA;AACA,OAAA,IAAA,MAAA,cAAA;AACA,OAAA,SAAA,MAAA,qBAAA;AACA,OAAA,WAAA,MAAA,qBAAA;AACA,OAAA,WAAA,MAAA,qBAAA;AACA,OAAA,WAAA,MAAA,qBAAA;AACA,OAAA,SAAA,MAAA,mBAAA;AACA,OAAA,QAAA,MAAA,kBAAA;AACA,OAAA,YAAA,MAAA,gCAAA;AACA,OAAA,sBAAA,MAAA,+CAAA;AACA,OAAA,gBAAA,MAAA,yCAAA;AACA,OAAA,mBAAA,MAAA,4CAAA;AACA,OAAA,cAAA,MAAA,uCAAA;AACA,OAAA,iBAAA,MAAA,0CAAA;AACA,OAAA,oBAAA,MAAA,6CAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA;AACA,IAAA,aAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AANA,GADA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,sBAAA,EAAA,sBADA;AAEA,IAAA,MAAA,EAAA,MAFA;AAGA,IAAA,IAAA,EAAA,IAHA;AAIA,IAAA,WAAA,EAAA,WAJA;AAKA,IAAA,WAAA,EAAA,WALA;AAMA,IAAA,QAAA,EAAA,QANA;AAOA,IAAA,YAAA,EAAA,YAPA;AAQA,IAAA,WAAA,EAAA,WARA;AASA,IAAA,SAAA,EAAA,SATA;AAUA,IAAA,YAAA,EAAA,YAVA;AAWA,IAAA,oBAAA,EAAA,oBAXA;AAYA;AACA,IAAA,gBAAA,EAAA,gBAbA;AAcA,IAAA,cAAA,EAAA,cAdA;AAeA,IAAA,mBAAA,EAAA,mBAfA;AAgBA,IAAA,iBAAA,EAAA;AAhBA,GAZA;AA8BA,EAAA,MAAA,EAAA,CAAA,SAAA,CA9BA;AA+BA,EAAA,IA/BA,kBA+BA;AAAA;;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,SAAA,EAAA,CAHA;AAIA,MAAA,gBAAA,EAAA,IAJA;AAKA;AACA,MAAA,OAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,SAAA,EAAA,cAAA,CAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,OADA;AAEA,QAAA,SAAA,EAAA,cAAA,CAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,YADA;AAEA,QAAA,SAAA,EAAA,cAAA,CAAA;AAFA,OATA,EAaA;AACA,QAAA,KAAA,EAAA,UADA;AAEA,QAAA,SAAA,EAAA,cAAA,CAAA;AAFA,OAbA,CANA;AAwBA,MAAA,uBAAA,EAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA,oBAFA;AAGA,QAAA,WAAA,EAAA,SAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAxBA;AA8BA,MAAA,mBAAA,EAAA,mBA9BA;AA+BA,MAAA,SAAA,EAAA,mBAAA,CAAA,UA/BA;AAgCA,MAAA,aAAA,wDACA,mBAAA,CAAA,UADA,EACA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA,0CAFA;AAGA,QAAA,WAAA,EAAA,QAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OADA,mCAOA,mBAAA,CAAA,aAPA,EAOA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA,iDAFA;AAGA,QAAA,WAAA,EAAA,QAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAPA,kBAhCA;AA8CA;AACA,MAAA,mBAAA,EAAA;AACA,QAAA,KAAA,EAAA;AACA,UAAA,IAAA,EAAA,gBADA;AAEA,UAAA,KAAA,EACA;AAHA,SADA;AAMA,QAAA,OAAA,EACA,+jBAPA;AAQA,QAAA,KAAA,EAAA;AACA,UAAA,GAAA,EACA,8EAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SARA;AAaA,QAAA,IAAA,EAAA,CACA;AACA,UAAA,EAAA,EAAA,gBADA;AAEA,UAAA,IAAA,EAAA;AAFA,SADA,EAKA;AACA,UAAA,EAAA,EAAA,eADA;AAEA,UAAA,IAAA,EAAA;AAFA,SALA,EASA;AACA,UAAA,EAAA,EAAA,eADA;AAEA,UAAA,IAAA,EAAA;AAFA,SATA,EAaA;AACA,UAAA,EAAA,EAAA,eADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAbA,EAiBA;AACA,UAAA,EAAA,EAAA,eADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAjBA,EAqBA;AACA,UAAA,EAAA,EAAA,eADA;AAEA,UAAA,IAAA,EAAA;AAFA,SArBA;AAbA;AA/CA,KAAA;AAwFA,GAxHA;AAyHA,EAAA,QAAA,EAAA;AACA,IAAA,mBADA,iCACA;AACA,aAAA,qBAAA,CAAA,IAAA,CAAA,IAAA,EAAA,aAAA,CAAA;AACA;AAHA,GAzHA;AA8HA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,YAAA,CAAA,KAAA,CAAA,EAAA,EAAA,KAAA,CAAA,WAAA,CAFA;;AAAA;AAEA,gBAAA,KAAA,CAAA,IAFA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,iDAIA,KAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA;AACA,IAAA,oBATA,kCASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA;AACA,kBAAA,KAAA,EAAA;AADA,iBADA;AAAA;AAAA;AAAA,uBAKA,aAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EAAA,OAAA,CALA;;AAAA;AAMA,gBAAA,MAAA,CAAA,IAAA,CAAA,aAAA,GAAA,IAAA;AANA;AAAA;;AAAA;AAAA;AAAA;AAAA,kDAQA,KARA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAnBA;AAoBA;AACA,IAAA,wBArBA,sCAqBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA;AACA,kBAAA,KAAA,EAAA,CADA;AAEA,kBAAA,cAAA,EAAA;AAFA,iBADA;AAAA;AAAA;AAAA,uBAMA,mBAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EAAA,OAAA,CANA;;AAAA;AAOA,gBAAA,MAAA,CAAA,IAAA,CAAA,aAAA,GAAA,KAAA;AAPA;AAAA;;AAAA;AAAA;AAAA;AAAA,kDASA,KATA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KAhCA;AAiCA,IAAA,eAjCA,2BAiCA,SAjCA,EAiCA;AACA,WAAA,SAAA,GAAA,SAAA;AACA,WAAA,aAAA,CAAA,SAAA,EAAA,IAAA,GAAA,IAAA;AACA,KApCA;AAqCA,IAAA,YArCA,0BAqCA;AAAA,UAAA,QAAA,uEAAA,CAAA;AAAA,UAAA,cAAA,uEAAA,CAAA;AACA,WAAA,kBAAA,CAAA,QAAA;AACA,WAAA,gBAAA,GAAA,KAAA,mBAAA,CAAA,cAAA,CAAA;AACA;AAxCA,GA9HA;AAwKA,EAAA,OAxKA,qBAwKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,OAAA,EADA;;AAAA;AAEA,cAAA,MAAA,CAAA,YAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AA3KA,CAAA","sourcesContent":["<template>\r\n  <div v-if=\"data\" class=\"community\">\r\n    <!-- @TODO revise it -->\r\n    <wallpaper v-if=\"data.coverImage\" :src=\"data.coverImage.src\" />\r\n    <add-image v-else buttonText=\"Add Background\" />\r\n    <div class=\"community-header\">\r\n      <div class=\"community-wrapper\"></div>\r\n      <tabs\r\n        :tabs=\"navTabs\"\r\n        @selectTab=\"$active => setComponent($active, $active)\"\r\n        :active=\"activeTab\"\r\n      />\r\n    </div>\r\n    <div class=\"community-content\">\r\n      <div class=\"community-wrapper\">\r\n        <!-- @TODO revise it -->\r\n        <sidebar-form v-if=\"sidebarCreate\" />\r\n        <sidebar-info\r\n          :name=\"data.name\"\r\n          :description=\"data.description\"\r\n          :links=\"data.links\"\r\n          :isSubscribe=\"data.aliasIsMember\"\r\n          v-else\r\n          @subscribe=\"subscribeToCommunity\"\r\n          @unsubscribe=\"unsubscribeFromCommunity\"\r\n        />\r\n      </div>\r\n      <div class=\"community-main\">\r\n        <component\r\n          :is=\"currentComponent\"\r\n          :data=\"data\"\r\n          @openModal=\"handleModalOpen\"\r\n          :communityRules=\"data.rules\"\r\n          :communityId=\"id\"\r\n        />\r\n      </div>\r\n      <div class=\"community-wrapper\">\r\n        <!-- @TODO make it dynamically -->\r\n        <sidebar-tags\r\n          :tags=\"data.tags\"\r\n          createText=\"Tags of your posts will be shown here. You may add them, but others will see them only when you use them in your posts.\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <moderation-request-modal\r\n      :settings=\"moderationModalSettings\"\r\n      :data=\"moderationModalData\"\r\n    />\r\n    <members-modal\r\n      v-if=\"modalSettings[modalType].show\"\r\n      :modalType=\"modalType\"\r\n      :settings=\"modalSettings[modalType]\"\r\n      :communityId=\"data.id\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport getComponentsByPrefix from '@/utils/getComponentsByPrefix';\r\nimport {\r\n  communityModalTypes,\r\n  communityAreas,\r\n  communityRoot,\r\n  getCommunity,\r\n  joinCommunity,\r\n  removeFromCommunity\r\n} from '@/services/community.service';\r\nimport MembersModal from '@/components/Community/MembersModal';\r\nimport Avatar from '~common/Avatar';\r\nimport Tabs from '~common/Tabs';\r\nimport tabsMixin from '@/mixins/tabs.mixin';\r\nimport SidebarForm from '~common/SidebarForm';\r\nimport SidebarInfo from '~common/SidebarInfo';\r\nimport SidebarTags from '~common/SidebarTags';\r\nimport Wallpaper from '~common/Wallpaper';\r\nimport AddImage from '~common/AddImage';\r\nimport BlogSettings from '@/components/Blog/BlogSettings';\r\nimport ModerationRequestModal from '@/components/Community/ModerationRequestModal';\r\nimport CommunityMembers from '@/components/Community/CommunityMembers';\r\nimport CommunityModerators from '@/components/Community/CommunityModerators';\r\nimport CommunityRules from '@/components/Community/CommunityRules';\r\nimport CommunityRequests from '@/components/Community/CommunityRequests';\r\nimport CommunityCreateRules from '@/components/Community/CommunityCreateRules';\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    // @TODO revise it\r\n    sidebarCreate: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  components: {\r\n    ModerationRequestModal,\r\n    Avatar,\r\n    Tabs,\r\n    SidebarForm,\r\n    SidebarTags,\r\n    AddImage,\r\n    BlogSettings,\r\n    SidebarInfo,\r\n    Wallpaper,\r\n    MembersModal,\r\n    CommunityCreateRules,\r\n    // communityAreas (the order should be strict)\r\n    CommunityMembers,\r\n    CommunityRules,\r\n    CommunityModerators,\r\n    CommunityRequests\r\n  },\r\n  mixins: [tabsMixin],\r\n  data() {\r\n    return {\r\n      data: null,\r\n      currentPage: 1,\r\n      activeTab: 0,\r\n      currentComponent: null,\r\n      // @TODO talk with Dorian about type of data.rules\r\n      navTabs: [\r\n        {\r\n          title: 'Members',\r\n          component: communityAreas.members\r\n        },\r\n        {\r\n          title: 'Rules',\r\n          component: communityAreas.rules\r\n        },\r\n        {\r\n          title: 'Moderators',\r\n          component: communityAreas.moderators\r\n        },\r\n        {\r\n          title: 'Requests',\r\n          component: communityAreas.requests\r\n        }\r\n      ],\r\n      moderationModalSettings: {\r\n        show: false,\r\n        title: 'Moderation request',\r\n        dismissText: 'Decline',\r\n        actionText: 'Accept'\r\n      },\r\n      communityModalTypes,\r\n      modalType: communityModalTypes.addMembers,\r\n      modalSettings: {\r\n        [communityModalTypes.addMembers]: {\r\n          show: false,\r\n          title: 'Choose new members of the security group',\r\n          dismissText: 'Cancel',\r\n          actionText: '+ Add'\r\n        },\r\n        [communityModalTypes.deleteMembers]: {\r\n          show: false,\r\n          title: 'Choose members to delete from the privacy group',\r\n          dismissText: 'Cancel',\r\n          actionText: 'Delete'\r\n        }\r\n      },\r\n      //@TODO change to real data\r\n      moderationModalData: {\r\n        alias: {\r\n          name: 'community name',\r\n          image:\r\n            'https://cdn2.iconfinder.com/data/icons/super-hero/154/batman-comics-hero-avatar-head-mask-512.png'\r\n        },\r\n        content:\r\n          \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum\",\r\n        image: {\r\n          src:\r\n            'https://i.pinimg.com/originals/2b/52/7d/2b527dfbe670cd5a746425eb30e2740d.jpg',\r\n          name: 'gotham city'\r\n        },\r\n        tags: [\r\n          {\r\n            id: 5202200931223649,\r\n            name: 'batman'\r\n          },\r\n          {\r\n            id: 139573284492231,\r\n            name: 'gotham'\r\n          },\r\n          {\r\n            id: 139573284492232,\r\n            name: 'gotham'\r\n          },\r\n          {\r\n            id: 139573284492233,\r\n            name: 'gotham'\r\n          },\r\n          {\r\n            id: 139573284492234,\r\n            name: 'gotham'\r\n          },\r\n          {\r\n            id: 139573284492235,\r\n            name: 'gotham'\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    communityComponents() {\r\n      return getComponentsByPrefix.call(this, communityRoot);\r\n    }\r\n  },\r\n  methods: {\r\n    async getData() {\r\n      try {\r\n        this.data = await getCommunity(this.id, this.currentPage);\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    },\r\n    // @TODO change payload */\r\n    async subscribeToCommunity() {\r\n      const payload = {\r\n        alias: 1\r\n      };\r\n      try {\r\n        await joinCommunity(this.data.id, payload);\r\n        this.data.aliasIsMember = true;\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    },\r\n    // @TODO implement in future*/\r\n    async unsubscribeFromCommunity() {\r\n      const payload = {\r\n        alias: 1,\r\n        removeMemberId: 1\r\n      };\r\n      try {\r\n        await removeFromCommunity(this.data.id, payload);\r\n        this.data.aliasIsMember = false;\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    },\r\n    handleModalOpen(modalType) {\r\n      this.modalType = modalType;\r\n      this.modalSettings[modalType].show = true;\r\n    },\r\n    setComponent(tabIndex = 0, componentIndex = 0) {\r\n      this.handleSetActiveTab(tabIndex);\r\n      this.currentComponent = this.communityComponents[componentIndex];\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.getData();\r\n    this.setComponent();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.community {\r\n  grid-area: content;\r\n  overflow: auto;\r\n  background-color: var(--BG-primary);\r\n\r\n  ::v-deep &-tabs .nav-tabs li button {\r\n    font-size: var(--size-button);\r\n    text-transform: uppercase;\r\n  }\r\n  &-header {\r\n    display: grid;\r\n    align-items: end;\r\n    grid-template-rows: minmax(0, 60px);\r\n    grid-template-columns: var(--width-small) max-content var(--width-small);\r\n    grid-gap: var(--element-margin-xl);\r\n    background-color: var(--BG-blog-post);\r\n    padding: 0 var(--element-padding-xl);\r\n    margin-bottom: var(--element-margin-xl);\r\n  }\r\n  &-content {\r\n    padding: 0 var(--element-padding-xl);\r\n    display: grid;\r\n    grid-gap: var(--element-padding-xl);\r\n    grid-template-columns: var(--width-small) auto var(--width-small);\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}