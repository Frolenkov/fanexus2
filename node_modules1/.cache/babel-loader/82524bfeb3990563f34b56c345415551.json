{"remainingRequest":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\Projects\\fanexus\\src\\store\\modules\\alias.module.js","dependencies":[{"path":"F:\\Projects\\fanexus\\src\\store\\modules\\alias.module.js","mtime":1598358775521},{"path":"F:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Projects\\fanexus\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRjpcXFByb2plY3RzXFxmYW5leHVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJGOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IHsgZ2V0VXNlckFsaWFzZXMgYXMgX2dldFVzZXJBbGlhc2VzLCBzZXRBY3RpdmVBbGlhc0FwaSwgZ2V0QWN0aXZlQWxpYXNEYXRhQXBpLCBnZXRBbGlhc0ZvbGxvd2luZ0NvdW50IH0gZnJvbSAnQC9zZXJ2aWNlcy9hbGlhcy5zZXJ2aWNlJzsKaW1wb3J0IHsgZ2V0QmxvZ0ZvbGxvd2Vyc0NvdW50LCBnZXRCbG9nTGlrZXNDb3VudCB9IGZyb20gJ0Avc2VydmljZXMvQmxvZy9ibG9nLnNlcnZpY2UnOwppbXBvcnQgeyBnZXROZXdBY3Rpdml0aWVzQ291bnQsIHdhdGNoQWN0aXZpdGllc0NvdW50LCB1bndhdGNoQWN0aXZpdGllc0NvdW50IH0gZnJvbSAnQC9zZXJ2aWNlcy9hY3Rpdml0aWVzLnNlcnZpY2UnOwppbXBvcnQgeyBnZXRBY3RpdmVBbGlhc1N0b3JhZ2UsIHNldEFjdGl2ZUFsaWFzU3RvcmFnZSwgcmVtb3ZlQWN0aXZlQWxpYXNTdG9yYWdlIH0gZnJvbSAnQC9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UnOwp2YXIgc3RhdGUgPSB7CiAgYWN0aXZlQWxpYXNTdGF0czoge30sCiAgdXNlckFsaWFzZXM6IFtdLAogIGFjdGl2ZUFsaWFzSWQ6IGdldEFjdGl2ZUFsaWFzU3RvcmFnZSgpLAogIGFjdGl2ZUFsaWFzRGF0YTogbnVsbAp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRBY3RpdmVBbGlhc0F2YXRhclNyYzogZnVuY3Rpb24gZ2V0QWN0aXZlQWxpYXNBdmF0YXJTcmMoc3RhdGUpIHsKICAgIGlmIChzdGF0ZS5hY3RpdmVBbGlhc0RhdGEgJiYgc3RhdGUuYWN0aXZlQWxpYXNEYXRhLmF2YXRhcikgewogICAgICByZXR1cm4gc3RhdGUuYWN0aXZlQWxpYXNEYXRhLmF2YXRhci5zcmM7CiAgICB9CgogICAgcmV0dXJuICcnOwogIH0sCiAgYWN0aXZlQWxpYXNCbG9nOiBmdW5jdGlvbiBhY3RpdmVBbGlhc0Jsb2coc3RhdGUpIHsKICAgIHZhciBhY3RpdmVBbGlhcyA9IHN0YXRlLnVzZXJBbGlhc2VzICYmIHN0YXRlLnVzZXJBbGlhc2VzLmZpbmQoZnVuY3Rpb24gKGFsaWFzKSB7CiAgICAgIHJldHVybiBhbGlhcy5pZCA9PT0gc3RhdGUuYWN0aXZlQWxpYXNJZDsKICAgIH0pOwogICAgcmV0dXJuIGFjdGl2ZUFsaWFzICYmIGFjdGl2ZUFsaWFzLkJsb2c7CiAgfSwKICBhY3RpdmVBbGlhc0Jsb2dVcmw6IGZ1bmN0aW9uIGFjdGl2ZUFsaWFzQmxvZ1VybCh1bmRlZmluZWQsIGdldHRlcnMpIHsKICAgIHJldHVybiBnZXR0ZXJzLmFjdGl2ZUFsaWFzQmxvZyAmJiAoZ2V0dGVycy5hY3RpdmVBbGlhc0Jsb2cubGluayB8fCBnZXR0ZXJzLmFjdGl2ZUFsaWFzQmxvZy5pZCk7CiAgfSwKICBhY3RpdmVBbGlhc0Jsb2dJZDogZnVuY3Rpb24gYWN0aXZlQWxpYXNCbG9nSWQodW5kZWZpbmVkLCBnZXR0ZXJzKSB7CiAgICByZXR1cm4gZ2V0dGVycy5hY3RpdmVBbGlhc0Jsb2cgJiYgZ2V0dGVycy5hY3RpdmVBbGlhc0Jsb2cuaWQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZXRBY3RpdmVBbGlhc1N0YXRzOiBmdW5jdGlvbiBnZXRBY3RpdmVBbGlhc1N0YXRzKF9yZWYsIF9yZWYyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICB2YXIgYWxpYXMgPSBfcmVmMi5hbGlhcywKICAgICAgICBibG9nID0gX3JlZjIuYmxvZzsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfcmVmMywgX3JlZjQsIGZvbGxvd2luZywgZm9sbG93ZXJzLCBsaWtlcywgYWN0aXZpdGllczsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2dldEFsaWFzRm9sbG93aW5nQ291bnQoYWxpYXMpLCBnZXRCbG9nRm9sbG93ZXJzQ291bnQoYmxvZyksIGdldEJsb2dMaWtlc0NvdW50KGJsb2cpLCBnZXROZXdBY3Rpdml0aWVzQ291bnQoKV0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9yZWYzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCA0KTsKICAgICAgICAgICAgICBmb2xsb3dpbmcgPSBfcmVmNFswXTsKICAgICAgICAgICAgICBmb2xsb3dlcnMgPSBfcmVmNFsxXTsKICAgICAgICAgICAgICBsaWtlcyA9IF9yZWY0WzJdOwogICAgICAgICAgICAgIGFjdGl2aXRpZXMgPSBfcmVmNFszXTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEFjdGl2ZUFsaWFzU3RhdHMnLCB7CiAgICAgICAgICAgICAgICBmb2xsb3dpbmc6IGZvbGxvd2luZywKICAgICAgICAgICAgICAgIGZvbGxvd2VyczogZm9sbG93ZXJzLAogICAgICAgICAgICAgICAgbGlrZXM6IGxpa2VzLAogICAgICAgICAgICAgICAgYWN0aXZpdGllczogYWN0aXZpdGllcwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgd2F0Y2hBY3RpdmVBbGlhc0FjdGl2aXRpZXNDb3VudDogZnVuY3Rpb24gd2F0Y2hBY3RpdmVBbGlhc0FjdGl2aXRpZXNDb3VudChfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBhY3Rpdml0aWVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHdhdGNoQWN0aXZpdGllc0NvdW50KCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgYWN0aXZpdGllcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAoYWN0aXZpdGllcykgewogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRBY3RpdmVBbGlhc1N0YXRzJywgewogICAgICAgICAgICAgICAgICBhY3Rpdml0aWVzOiBhY3Rpdml0aWVzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCd3YXRjaEFjdGl2ZUFsaWFzQWN0aXZpdGllc0NvdW50Jyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Mi50MC5jb2RlICE9PSAnRUNPTk5BQk9SVEVEJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA3XV0pOwogICAgfSkpKCk7CiAgfSwKICB1bndhdGNoQWN0aXZlQWxpYXNBY3Rpdml0aWVzQ291bnQ6IGZ1bmN0aW9uIHVud2F0Y2hBY3RpdmVBbGlhc0FjdGl2aXRpZXNDb3VudCgpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdW53YXRjaEFjdGl2aXRpZXNDb3VudCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICBnZXRVc2VyQWxpYXNlczogZnVuY3Rpb24gZ2V0VXNlckFsaWFzZXMoX3JlZjYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZSwKICAgICAgICBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBwYXlsb2FkOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX2dldFVzZXJBbGlhc2VzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcGF5bG9hZCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlckFsaWFzZXMnLCBwYXlsb2FkKTsKCiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVBbGlhc0lkKSB7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnaW5pdEFjdGl2ZUFsaWFzJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKICBpbml0QWN0aXZlQWxpYXM6IGZ1bmN0aW9uIGluaXRBY3RpdmVBbGlhcyhfcmVmNykgewogICAgdmFyIHN0YXRlID0gX3JlZjcuc3RhdGUsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNy5kaXNwYXRjaDsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoKCdzZXRBY3RpdmVBbGlhcycsIHN0YXRlLnVzZXJBbGlhc2VzWzBdLmlkKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKSgpOwogIH0sCiAgc2V0QWN0aXZlQWxpYXM6IGZ1bmN0aW9uIHNldEFjdGl2ZUFsaWFzKF9yZWY4LCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjguY29tbWl0OwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBzZXRBY3RpdmVBbGlhc0FwaShwYXlsb2FkKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBzZXRBY3RpdmVBbGlhc1N0b3JhZ2UocGF5bG9hZCk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRBY3RpdmVBbGlhcycsIHBheWxvYWQpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTYpOwogICAgfSkpKCk7CiAgfSwKICByZW1vdmVBY3RpdmVBbGlhczogZnVuY3Rpb24gcmVtb3ZlQWN0aXZlQWxpYXMoX3JlZjkpIHsKICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICByZW1vdmVBY3RpdmVBbGlhc1N0b3JhZ2UoKTsKICAgIGNvbW1pdCgncmVtb3ZlQWN0aXZlQWxpYXMnKTsKICB9LAogIGNsZWFyVXNlckFsaWFzZXM6IGZ1bmN0aW9uIGNsZWFyVXNlckFsaWFzZXMoX3JlZjEwKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjEwLmNvbW1pdDsKICAgIGNvbW1pdCgnY2xlYXJVc2VyQWxpYXNlcycpOwogIH0sCiAgdXBkYXRlQWN0aXZlQWxpYXNEYXRhOiBmdW5jdGlvbiB1cGRhdGVBY3RpdmVBbGlhc0RhdGEoX3JlZjExKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjExLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYxMS5zdGF0ZTsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICB2YXIgbmV3QWN0aXZlQWxpYXNEYXRhOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0QWN0aXZlQWxpYXNEYXRhQXBpKHN0YXRlLmFjdGl2ZUFsaWFzSWQpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIG5ld0FjdGl2ZUFsaWFzRGF0YSA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWN0aXZlQWxpYXNEYXRhJywgbmV3QWN0aXZlQWxpYXNEYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU3KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRVc2VyQWxpYXNlczogZnVuY3Rpb24gc2V0VXNlckFsaWFzZXMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnVzZXJBbGlhc2VzID0gcGF5bG9hZDsKICB9LAogIHNldEFjdGl2ZUFsaWFzOiBmdW5jdGlvbiBzZXRBY3RpdmVBbGlhcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuYWN0aXZlQWxpYXNJZCA9IHBheWxvYWQ7CiAgfSwKICBzZXRBY3RpdmVBbGlhc1N0YXRzOiBmdW5jdGlvbiBzZXRBY3RpdmVBbGlhc1N0YXRzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5hY3RpdmVBbGlhc1N0YXRzID0gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuYWN0aXZlQWxpYXNTdGF0cywge30sIHBheWxvYWQpOwogIH0sCiAgcmVtb3ZlQWN0aXZlQWxpYXM6IGZ1bmN0aW9uIHJlbW92ZUFjdGl2ZUFsaWFzKHN0YXRlKSB7CiAgICBzdGF0ZS5hY3RpdmVBbGlhc0lkID0gbnVsbDsKICB9LAogIGNsZWFyVXNlckFsaWFzZXM6IGZ1bmN0aW9uIGNsZWFyVXNlckFsaWFzZXMoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXJBbGlhc2VzID0gW107CiAgfSwKICBzZXRBY3RpdmVBbGlhc0RhdGE6IGZ1bmN0aW9uIHNldEFjdGl2ZUFsaWFzRGF0YShzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuYWN0aXZlQWxpYXNEYXRhID0gcGF5bG9hZDsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["F:/Projects/fanexus/src/store/modules/alias.module.js"],"names":["getUserAliases","setActiveAliasApi","getActiveAliasDataApi","getAliasFollowingCount","getBlogFollowersCount","getBlogLikesCount","getNewActivitiesCount","watchActivitiesCount","unwatchActivitiesCount","getActiveAliasStorage","setActiveAliasStorage","removeActiveAliasStorage","state","activeAliasStats","userAliases","activeAliasId","activeAliasData","getters","getActiveAliasAvatarSrc","avatar","src","activeAliasBlog","activeAlias","find","alias","id","Blog","activeAliasBlogUrl","undefined","link","activeAliasBlogId","actions","getActiveAliasStats","commit","blog","Promise","all","following","followers","likes","activities","watchActiveAliasActivitiesCount","dispatch","code","unwatchActiveAliasActivitiesCount","payload","initActiveAlias","setActiveAlias","removeActiveAlias","clearUserAliases","updateActiveAliasData","newActiveAliasData","mutations","setUserAliases","setActiveAliasStats","setActiveAliasData"],"mappings":"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","sourcesContent":["import {\r\n  getUserAliases,\r\n  setActiveAliasApi,\r\n  getActiveAliasDataApi,\r\n  getAliasFollowingCount\r\n} from '@/services/alias.service';\r\nimport {\r\n  getBlogFollowersCount,\r\n  getBlogLikesCount\r\n} from '@/services/Blog/blog.service';\r\nimport {\r\n  getNewActivitiesCount,\r\n  watchActivitiesCount,\r\n  unwatchActivitiesCount\r\n} from '@/services/activities.service';\r\nimport {\r\n  getActiveAliasStorage,\r\n  setActiveAliasStorage,\r\n  removeActiveAliasStorage\r\n} from '@/services/storage.service';\r\n\r\nconst state = {\r\n  activeAliasStats: {},\r\n  userAliases: [],\r\n  activeAliasId: getActiveAliasStorage(),\r\n  activeAliasData: null\r\n};\r\n\r\nconst getters = {\r\n  getActiveAliasAvatarSrc: state => {\r\n    if (state.activeAliasData && state.activeAliasData.avatar) {\r\n      return state.activeAliasData.avatar.src;\r\n    }\r\n\r\n    return '';\r\n  },\r\n  activeAliasBlog(state) {\r\n    const activeAlias =\r\n      state.userAliases &&\r\n      state.userAliases.find(alias => alias.id === state.activeAliasId);\r\n    return activeAlias && activeAlias.Blog;\r\n  },\r\n  activeAliasBlogUrl(undefined, getters) {\r\n    return (\r\n      getters.activeAliasBlog &&\r\n      (getters.activeAliasBlog.link || getters.activeAliasBlog.id)\r\n    );\r\n  },\r\n  activeAliasBlogId(undefined, getters) {\r\n    return getters.activeAliasBlog && getters.activeAliasBlog.id;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  async getActiveAliasStats({ commit }, { alias, blog }) {\r\n    const [following, followers, likes, activities] = await Promise.all([\r\n      getAliasFollowingCount(alias),\r\n      getBlogFollowersCount(blog),\r\n      getBlogLikesCount(blog),\r\n      getNewActivitiesCount()\r\n    ]);\r\n    commit('setActiveAliasStats', { following, followers, likes, activities });\r\n  },\r\n  async watchActiveAliasActivitiesCount({ commit, dispatch }) {\r\n    try {\r\n      const activities = await watchActivitiesCount();\r\n      if (activities) {\r\n        commit('setActiveAliasStats', { activities });\r\n        dispatch('watchActiveAliasActivitiesCount');\r\n      }\r\n    } catch (e) {\r\n      if (e.code !== 'ECONNABORTED') {\r\n        throw e;\r\n      }\r\n    }\r\n  },\r\n  async unwatchActiveAliasActivitiesCount() {\r\n    await unwatchActivitiesCount();\r\n  },\r\n  async getUserAliases({ commit, state, dispatch }) {\r\n    const payload = await getUserAliases();\r\n    commit('setUserAliases', payload);\r\n    if (!state.activeAliasId) {\r\n      dispatch('initActiveAlias');\r\n    }\r\n  },\r\n  async initActiveAlias({ state, dispatch }) {\r\n    dispatch('setActiveAlias', state.userAliases[0].id);\r\n  },\r\n  async setActiveAlias({ commit }, payload) {\r\n    await setActiveAliasApi(payload);\r\n    setActiveAliasStorage(payload);\r\n    commit('setActiveAlias', payload);\r\n  },\r\n  removeActiveAlias({ commit }) {\r\n    removeActiveAliasStorage();\r\n    commit('removeActiveAlias');\r\n  },\r\n  clearUserAliases({ commit }) {\r\n    commit('clearUserAliases');\r\n  },\r\n  async updateActiveAliasData({ commit, state }) {\r\n    const newActiveAliasData = await getActiveAliasDataApi(state.activeAliasId);\r\n    commit('setActiveAliasData', newActiveAliasData);\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n  setUserAliases(state, payload) {\r\n    state.userAliases = payload;\r\n  },\r\n  setActiveAlias(state, payload) {\r\n    state.activeAliasId = payload;\r\n  },\r\n  setActiveAliasStats(state, payload) {\r\n    state.activeAliasStats = { ...state.activeAliasStats, ...payload };\r\n  },\r\n  removeActiveAlias(state) {\r\n    state.activeAliasId = null;\r\n  },\r\n  clearUserAliases(state) {\r\n    state.userAliases = [];\r\n  },\r\n  setActiveAliasData(state, payload) {\r\n    state.activeAliasData = payload;\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n};\r\n"]}]}