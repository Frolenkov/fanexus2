{"remainingRequest":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\Projects\\fanexus\\src\\components\\common\\Comments\\Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\Projects\\fanexus\\src\\components\\common\\Comments\\Comment.vue","mtime":1593701697410},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJJOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkk6XFxQcm9qZWN0c1xcZmFuZXh1c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgY3JlYXRlQ29tbWVudCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKLCBjb21tZW50RGVsZXRlLCBjb21tZW50TGlrZSwgY29tbWVudFVubGlrZSB9IGZyb20gJ0Avc2VydmljZXMvQ29tbWVudC9jb21tZW50LnNlcnZpY2UnOwppbXBvcnQgZHJvcGRvd25PcHRpb25zIGZyb20gJ0Avc2VydmljZXMvQ29tbWVudC9jb21tZW50LmRyb3Bkb3duT3B0aW9ucyc7CmltcG9ydCBBY3Rpb25CdXR0b25zR3JvdXAgZnJvbSAnfmNvbW1vbi9BY3Rpb25CdXR0b25zR3JvdXAnOwppbXBvcnQgQXZhdGFyIGZyb20gJ35jb21tb24vQXZhdGFyJzsKaW1wb3J0IE5ld0NvbW1lbnRGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9jb21tb24vQ29tbWVudHMvTmV3Q29tbWVudEZvcm0nOwppbXBvcnQgQ29tbWVudCBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL0NvbW1lbnRzL0NvbW1lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NvbW1lbnQnLAogIHByb3BzOiB7CiAgICBibG9nUG9zdElkOiB7CiAgICAgIHR5cGU6IHVuZGVmaW5lZAogICAgfSwKICAgIGNvbW1lbnQ6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBY3Rpb25CdXR0b25zR3JvdXA6IEFjdGlvbkJ1dHRvbnNHcm91cCwKICAgIEF2YXRhcjogQXZhdGFyLAogICAgTmV3Q29tbWVudEZvcm06IE5ld0NvbW1lbnRGb3JtLAogICAgQ29tbWVudDogQ29tbWVudAogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGFjdGl2ZUFsaWFzSWQ6IGZ1bmN0aW9uIGFjdGl2ZUFsaWFzSWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFsaWFzLmFjdGl2ZUFsaWFzSWQ7CiAgICB9CiAgfSksIHsKICAgIGNvbW1lbnRzTGVuZ3RoOiBmdW5jdGlvbiBjb21tZW50c0xlbmd0aCgpIHsKICAgICAgdmFyIGNvbW1lbnRzID0gdGhpcy5jb21tZW50LmNoaWxkQ29tbWVudHM7CiAgICAgIHJldHVybiBjb21tZW50cyA/IGNvbW1lbnRzLmxlbmd0aCA6IDA7CiAgICB9CiAgfSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld0NvbW1lbnQ6ICcnLAogICAgICBzaG93Q2hpbGRDb21tZW50czogZmFsc2UsCiAgICAgIHNob3dOZXdDb21tZW50Rm9ybTogZmFsc2UsCiAgICAgIGRyb3Bkb3duT3B0aW9uczogZHJvcGRvd25PcHRpb25zCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ3VwZGF0ZUJsb2dQb3N0RGF0YSddKSwgewogICAgLyoqIEBUT0RPIG1ha2UgaXQgY29tbW9uICovCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlQmxvZ1Bvc3REYXRhKF90aGlzLmJsb2dQb3N0SWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TmV3Q29tbWVudEZvcm0gPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzLnNob3dDaGlsZENvbW1lbnRzID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLm5ld0NvbW1lbnQgPSAnJzsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKkBUT0RPIG1ha2UgaXQgZHluYW1pYyBhbmQgcmV2aXNlIGRvIHdlIG5lZWQgY29tbWVudCBpZCovCiAgICBoYW5kbGVDcmVhdGVDb21tZW50OiBmdW5jdGlvbiBoYW5kbGVDcmVhdGVDb21tZW50KHBhcmVudENvbW1lbnRJZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5uZXdDb21tZW50KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBwYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBhbGlhczogX3RoaXMyLmFjdGl2ZUFsaWFzSWQsCiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzMi5uZXdDb21tZW50CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChwYXJlbnRDb21tZW50SWQpIHsKICAgICAgICAgICAgICAgICAgcGF5bG9hZC5wYXJlbnRDb21tZW50ID0gcGFyZW50Q29tbWVudElkOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcGF5bG9hZC5ibG9nUG9zdCA9IF90aGlzMi5ibG9nUG9zdElkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb21tZW50KHBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlZnJlc2goKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNCwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZUNvbW1lbnQ6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNvbW1lbnQoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBjb21tZW50RGVsZXRlKGlkLCB7CiAgICAgICAgICAgICAgICAgIGFsaWFzOiBfdGhpczMuYWN0aXZlQWxpYXNJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMucmVmcmVzaCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjb21tZW50TGlrZVRvZ2dsZTogZnVuY3Rpb24gY29tbWVudExpa2VUb2dnbGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBfdGhpczQkY29tbWVudCwgaWQsIHVzZXJMaWtlZCwgYm9keTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNCRjb21tZW50ID0gX3RoaXM0LmNvbW1lbnQsIGlkID0gX3RoaXM0JGNvbW1lbnQuaWQsIHVzZXJMaWtlZCA9IF90aGlzNCRjb21tZW50LnVzZXJMaWtlZDsKICAgICAgICAgICAgICAgIGJvZHkgPSBbaWQsIHsKICAgICAgICAgICAgICAgICAgYWxpYXM6IF90aGlzNC5hY3RpdmVBbGlhc0lkCiAgICAgICAgICAgICAgICB9XTsKCiAgICAgICAgICAgICAgICBpZiAoIXVzZXJMaWtlZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBjb21tZW50VW5saWtlLmFwcGx5KHZvaWQgMCwgYm9keSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWVudExpa2UuYXBwbHkodm9pZCAwLCBib2R5KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQucmVmcmVzaCgpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <article class=\"comments-list-item\">\r\n    <div class=\"comments-list-item__wrapper\">\r\n      <avatar\r\n        class=\"comments-list-item__avatar\"\r\n        size=\"md\"\r\n        :file=\"comment.Alias.avatar.src\"\r\n      />\r\n      <div class=\"comments-list-item__content\">\r\n        <div class=\"comments-list-item-title\">\r\n          <h2 class=\"comments-list-item-title__name\">\r\n            {{ comment.Alias.name }}\r\n          </h2>\r\n          <p class=\"comments-list-item-title__date\">\r\n            {{ comment.updatedAt | dateFormat }}\r\n          </p>\r\n        </div>\r\n        <div class=\"comments-list-item__text\" v-html=\"comment.content\" />\r\n        <action-buttons-group\r\n          class=\"comment\"\r\n          :engagementStats=\"comment.engagementStats\"\r\n          :commentsLength=\"commentsLength\"\r\n          :showNewCommentForm=\"showNewCommentForm\"\r\n          :showChildComments=\"showChildComments\"\r\n          :userHasEditPermissions=\"comment.userHasEditPermissions\"\r\n          @toggleCommentForm=\"showNewCommentForm = !showNewCommentForm\"\r\n          @toggleChildComments=\"showChildComments = !showChildComments\"\r\n          @likeClicked=\"commentLikeToggle\"\r\n          @delete=\"() => handleDeleteComment(comment.id)\"\r\n          :userLiked=\"comment.userLiked\"\r\n          :options=\"dropdownOptions\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <new-comment-form\r\n      v-if=\"showNewCommentForm\"\r\n      class=\"child\"\r\n      @input=\"comment => (newComment = comment)\"\r\n      @createComment=\"() => handleCreateComment(comment.id)\"\r\n    />\r\n    <div\r\n      v-if=\"commentsLength && showChildComments\"\r\n      class=\"child-comment__wrapper\"\r\n    >\r\n      <comment\r\n        v-for=\"(childComment, index) in comment.childComments\"\r\n        :key=\"`${childComment.id}-${index}`\"\r\n        :comment=\"childComment\"\r\n        :blogPostId=\"blogPostId\"\r\n        @input=\"comment => (newComment = comment)\"\r\n        @deleteComment=\"() => handleDeleteComment(childComment.id)\"\r\n        @createComment=\"() => handleCreateComment(childComment.parentCommentId)\"\r\n      />\r\n    </div>\r\n  </article>\r\n</template>\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\nimport {\r\n  createComment,\r\n  // eslint-disable-next-line no-unused-vars\r\n  commentDelete,\r\n  commentLike,\r\n  commentUnlike\r\n} from '@/services/Comment/comment.service';\r\nimport dropdownOptions from '@/services/Comment/comment.dropdownOptions';\r\nimport ActionButtonsGroup from '~common/ActionButtonsGroup';\r\nimport Avatar from '~common/Avatar';\r\nimport NewCommentForm from '@/components/common/Comments/NewCommentForm';\r\nimport Comment from '@/components/common/Comments/Comment';\r\n\r\nexport default {\r\n  name: 'comment',\r\n  props: {\r\n    blogPostId: {\r\n      type: undefined\r\n    },\r\n    comment: {\r\n      type: Object\r\n    }\r\n  },\r\n  components: {\r\n    ActionButtonsGroup,\r\n    Avatar,\r\n    NewCommentForm,\r\n    Comment\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      activeAliasId: state => state.alias.activeAliasId\r\n    }),\r\n    commentsLength() {\r\n      const comments = this.comment.childComments;\r\n\r\n      return comments ? comments.length : 0;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      newComment: '',\r\n      showChildComments: false,\r\n      showNewCommentForm: false,\r\n      dropdownOptions\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(['updateBlogPostData']),\r\n    /** @TODO make it common */\r\n    async refresh() {\r\n      await this.updateBlogPostData(this.blogPostId);\r\n      this.showNewCommentForm = false;\r\n      this.showChildComments = true;\r\n      this.newComment = '';\r\n    },\r\n    /*@TODO make it dynamic and revise do we need comment id*/\r\n    async handleCreateComment(parentCommentId) {\r\n      if (!this.newComment) return;\r\n\r\n      const payload = {\r\n        alias: this.activeAliasId,\r\n        content: this.newComment\r\n      };\r\n\r\n      if (parentCommentId) {\r\n        payload.parentComment = parentCommentId;\r\n      } else {\r\n        payload.blogPost = this.blogPostId;\r\n      }\r\n\r\n      try {\r\n        await createComment(payload);\r\n        await this.refresh();\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    },\r\n    async handleDeleteComment(id) {\r\n      await commentDelete(id, { alias: this.activeAliasId });\r\n      await this.refresh();\r\n    },\r\n    async commentLikeToggle() {\r\n      const { id, userLiked } = this.comment;\r\n      const body = [id, { alias: this.activeAliasId }];\r\n\r\n      userLiked ? await commentUnlike(...body) : await commentLike(...body);\r\n      await this.refresh();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.comments-list-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: var(--element-margin-m);\r\n\r\n  &__wrapper {\r\n    display: flex;\r\n    margin-bottom: var(--element-margin-m);\r\n  }\r\n  &__avatar {\r\n    margin-right: var(--element-margin-m);\r\n  }\r\n\r\n  .comment {\r\n    margin-bottom: var(--element-padding-m);\r\n  }\r\n\r\n  &-title {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: var(--element-margin-m);\r\n    &__name {\r\n      color: var(--text-primary);\r\n      font-size: var(--size-regular);\r\n      margin-bottom: 0;\r\n      margin-right: var(--element-margin-s);\r\n    }\r\n    &__date {\r\n      color: var(--text-date-and-time);\r\n      font-size: var(--size-small);\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  &__text {\r\n    color: var(--text-primary);\r\n    font-size: var(--size-regular);\r\n    line-height: 1.3em;\r\n    word-break: break-word;\r\n    margin-bottom: var(--element-margin-m);\r\n    ::v-deep ul {\r\n      margin: var(--element-margin-s);\r\n      padding-left: 40px;\r\n    }\r\n\r\n    ::v-deep a {\r\n      color: var(--text-secondary);\r\n    }\r\n  }\r\n}\r\n\r\n.child-comment__wrapper {\r\n  margin-left: 65px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/common/Comments"}]}