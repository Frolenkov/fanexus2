{"remainingRequest":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js!I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\Projects\\fanexus\\src\\components\\Community\\CommunityCreateCommunity.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\Projects\\fanexus\\src\\components\\Community\\CommunityCreateCommunity.vue","mtime":1593690156777},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\Projects\\fanexus\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiSTpcXFByb2plY3RzXFxmYW5leHVzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJJOlxcUHJvamVjdHNcXGZhbmV4dXNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBzZXR0aW5ncyBmcm9tICdAL3NlcnZpY2VzL0NvbW11bml0eS9jb21tdW5pdHkuc2V0dGluZ3MnOwppbXBvcnQgQWRkSW1hZ2UgZnJvbSAnLi4vY29tbW9uL0FkZEltYWdlJzsKaW1wb3J0IFRhYnMgZnJvbSAnLi4vY29tbW9uL1RhYnMnOwppbXBvcnQgdGFic01peGluIGZyb20gJ0AvbWl4aW5zL3RhYnMubWl4aW4nOwppbXBvcnQgU2lkZWJhclRhZ3MgZnJvbSAnLi4vY29tbW9uL1NpZGViYXJUYWdzJzsKaW1wb3J0IFNpZGViYXJGb3JtIGZyb20gJy4uL2NvbW1vbi9TaWRlYmFyRm9ybSc7CmltcG9ydCBDb21tdW5pdHlDcmVhdGVSdWxlcyBmcm9tICdAL2NvbXBvbmVudHMvQ29tbXVuaXR5L0NvbW11bml0eUNyZWF0ZVJ1bGVzJzsKaW1wb3J0IENvbW11bml0eVNldHRpbmdzIGZyb20gJ0AvY29tcG9uZW50cy9Db21tdW5pdHkvQ29tbXVuaXR5U2V0dGluZ3MnOwppbXBvcnQgeyBjb21tdW5pdHlBcmVhcywgY3JlYXRlQ29tbXVuaXR5LCBibG9nSW1hZ2VUeXBlcywgY29tbXVuaXR5Um9vdCB9IGZyb20gJ0Avc2VydmljZXMvQ29tbXVuaXR5L2NvbW11bml0eS5zZXJ2aWNlJzsKaW1wb3J0IGdldENvbXBvbmVudHNCeVByZWZpeCBmcm9tICdAL3V0aWxzL2dldENvbXBvbmVudHNCeVByZWZpeCc7CmltcG9ydCBXYWxscGFwZXIgZnJvbSAnfmNvbW1vbi9XYWxscGFwZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2lkZWJhckZvcm06IFNpZGViYXJGb3JtLAogICAgV2FsbHBhcGVyOiBXYWxscGFwZXIsCiAgICBBZGRJbWFnZTogQWRkSW1hZ2UsCiAgICBUYWJzOiBUYWJzLAogICAgQ29tbXVuaXR5Q3JlYXRlUnVsZXM6IENvbW11bml0eUNyZWF0ZVJ1bGVzLAogICAgQ29tbXVuaXR5U2V0dGluZ3M6IENvbW11bml0eVNldHRpbmdzLAogICAgU2lkZWJhclRhZ3M6IFNpZGViYXJUYWdzCiAgfSwKICBtaXhpbnM6IFt0YWJzTWl4aW5dLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBibG9nSW1hZ2VUeXBlczogYmxvZ0ltYWdlVHlwZXMsCiAgICAgIGVycm9yczogW10sCiAgICAgIGRhdGE6IHsKICAgICAgICBsaW5rczogW10sCiAgICAgICAgcnVsZXM6IFtdLAoKICAgICAgICAvKiogQFRPRE8gcmV2aXNlIHN0cnVjdHVyZSAqLwogICAgICAgIGZvbGxvd3NBY2Nlc3NDb250cm9sOiB7CiAgICAgICAgICBhY2Nlc3NDb250cm9sU2V0dGluZzogMQogICAgICAgIH0sCiAgICAgICAgY29udGVudEFjY2Vzc0NvbnRyb2w6IHsKICAgICAgICAgIGFjY2Vzc0NvbnRyb2xTZXR0aW5nOiAxCiAgICAgICAgfSwKICAgICAgICByZWFjdGlvbnNBY2Nlc3NDb250cm9sOiB7CiAgICAgICAgICBhY2Nlc3NDb250cm9sU2V0dGluZzogMQogICAgICAgIH0sCiAgICAgICAgY29tbWVudHNBY2Nlc3NDb250cm9sOiB7CiAgICAgICAgICBhY2Nlc3NDb250cm9sU2V0dGluZzogMQogICAgICAgIH0sCiAgICAgICAgbWVtYmVyc0FjY2Vzc0NvbnRyb2w6IHsKICAgICAgICAgIGFjY2Vzc0NvbnRyb2xTZXR0aW5nOiAxCiAgICAgICAgfSwKICAgICAgICBwb3N0aW5nQWNjZXNzQ29udHJvbDogewogICAgICAgICAgYWNjZXNzQ29udHJvbFNldHRpbmc6IDEKICAgICAgICB9LAoKICAgICAgICAvKiogQFRPRE8gcmV2aXNlIGR1bW15IGRhdGEgKi8KICAgICAgICBjb3ZlckltYWdlOiB7CiAgICAgICAgICBuYW1lOiAnbmFub3N1aXQnLAogICAgICAgICAgc3JjOiAnJywKICAgICAgICAgIGJhc2VVcmw6ICdodHRwOi8vbWVkaWEuZmFuZXh1cy5uZXQvdXNlcnMvcm9vdC9pbWFnZXMvODUxY2ZjNWEtZDE4YS00NTQxLTkxYmEtM2EzNGNhMjgzMjM0JywKICAgICAgICAgIGFsdDogJ2F3ZXNvbWVzdWl0JywKICAgICAgICAgIGlkZW50aWZpZXI6ICc4NTFjZmM1YS1kMThhLTQ1NDEtOTFiYS0zYTM0Y2EyODMyMzQnCiAgICAgICAgfQogICAgICB9LAogICAgICBhY3RpdmVUYWI6IDAsCiAgICAgIGN1cnJlbnRDb21wb25lbnQ6IG51bGwsCiAgICAgIHNldHRpbmdzOiBzZXR0aW5ncywKICAgICAgbmF2VGFiczogW3sKICAgICAgICB0aXRsZTogJ1RoZSBydWxlcycsCiAgICAgICAgY29tcG9uZW50OiBjb21tdW5pdHlBcmVhcy5jcmVhdGVSdWxlcwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdTZXR0aW5ncycsCiAgICAgICAgY29tcG9uZW50OiBjb21tdW5pdHlBcmVhcy5zZXR0aW5ncwogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBhY3RpdmVBbGlhc0lkOiBmdW5jdGlvbiBhY3RpdmVBbGlhc0lkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hbGlhcy5hY3RpdmVBbGlhc0lkOwogICAgfSwKICAgIHRhZ3M6IGZ1bmN0aW9uIHRhZ3Moc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRhZ3MubGlzdDsKICAgIH0KICB9KSwgewogICAgLyoqIEBUT0RPIG1ha2UgaXQgY29tbW9uIGJldHdlZW4gYmxvZyBhbmQgY29tbXVuaXR5ICovCiAgICBjb3ZlckltYWdlRGF0YTogZnVuY3Rpb24gY292ZXJJbWFnZURhdGEoKSB7CiAgICAgIGlmICghdGhpcy5kYXRhIHx8ICF0aGlzLmRhdGEuY292ZXJJbWFnZSkgcmV0dXJuICcnOwogICAgICByZXR1cm4gdGhpcy5kYXRhLmNvdmVySW1hZ2UuYWNjZXNzVXJsIHx8IHRoaXMuZGF0YS5jb3ZlckltYWdlLnNyYzsKICAgIH0sCgogICAgLyoqIEBUT0RPIG1ha2UgaXQgY29tbW9uIGJldHdlZW4gYmxvZyBhbmQgY29tbXVuaXR5ICovCiAgICBjb21tdW5pdHlDb21wb25lbnRzOiBmdW5jdGlvbiBjb21tdW5pdHlDb21wb25lbnRzKCkgewogICAgICByZXR1cm4gZ2V0Q29tcG9uZW50c0J5UHJlZml4LmNhbGwodGhpcywgY29tbXVuaXR5Um9vdCk7CiAgICB9LAogICAgdGFnSXRlbXM6IGZ1bmN0aW9uIHRhZ0l0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy50YWdzLm1hcChmdW5jdGlvbiAodGFnKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6IHRhZywKICAgICAgICAgIGlkOiAwCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7CiAgICBzZXRDb21wb25lbnQ6IGZ1bmN0aW9uIHNldENvbXBvbmVudCgpIHsKICAgICAgdmFyIHRhYkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwogICAgICB2YXIgY29tcG9uZW50SW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgIHRoaXMuaGFuZGxlU2V0QWN0aXZlVGFiKHRhYkluZGV4KTsKICAgICAgdGhpcy5jdXJyZW50Q29tcG9uZW50ID0gdGhpcy5jb21tdW5pdHlDb21wb25lbnRzW2NvbXBvbmVudEluZGV4XTsKICAgIH0sCiAgICBoYW5kbGVBZGRJbWFnZTogZnVuY3Rpb24gaGFuZGxlQWRkSW1hZ2UoX3JlZikgewogICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSwKICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgIHRoaXMuZGF0YVt0eXBlXSA9IF9vYmplY3RTcHJlYWQoe30sIGRhdGEpOwogICAgfSwKCiAgICAvKiogQFRPRE8gY2hlY2sgdGhpcyBpc3N1ZSBAc2VlIGh0dHBzOi8vcHJudC5zYy9zdGZ1czUgKi8KCiAgICAvKiogQFRPRE8gY2hlY2sgdGhpcyBpc3N1ZSBAc2VlIGh0dHBzOi8vcHJudC5zYy9zdGI3czcgKi8KCiAgICAvKiogQFRPRE8gY2hlY2sgdGhpcyBpc3N1ZSBAc2VlIGh0dHA6Ly9wcm50c2NyLmNvbS9zdGgwYXIgKi8KICAgIG9uU2F2ZTogZnVuY3Rpb24gb25TYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvdmVySW1hZ2UsIHBheWxvYWQsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8qKiBAVE9ETyBtYWtlIGl0IGNvbW1vbiBiZXR3ZWVuIGJsb2cgYW5kIGNvbW11bml0eSAqLwogICAgICAgICAgICAgICAgY292ZXJJbWFnZSA9IF90aGlzLmRhdGEuY292ZXJJbWFnZTsKICAgICAgICAgICAgICAgIHBheWxvYWQgPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5kYXRhLCB7CiAgICAgICAgICAgICAgICAgIGFsaWFzOiBfdGhpcy5hY3RpdmVBbGlhc0lkLAogICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25BcHByb3ZhbDogJ29wZW4nLAogICAgICAgICAgICAgICAgICB0YWdOYW1lczogX3RoaXMudGFncywKCiAgICAgICAgICAgICAgICAgIC8qKiBAVE9ETyBtYWtlIGl0IGR5bmFtaWMgKi8KICAgICAgICAgICAgICAgICAgbW9kZXJhdG9yczogW190aGlzLmFjdGl2ZUFsaWFzSWRdLAogICAgICAgICAgICAgICAgICBtZW1iZXJzOiBbX3RoaXMuYWN0aXZlQWxpYXNJZF0KICAgICAgICAgICAgICAgIH0pOyAvLyByZW1vdmUgZW1wdHkgdmFsdWVzCgogICAgICAgICAgICAgICAgLyoqIEBUT0RPIHJldmlzZSBvdGhlciBwbGFjZXMgdG8gc3dpdGNoIGRhdGEgdG8gcGF5bG9hZCAqLwoKICAgICAgICAgICAgICAgIHBheWxvYWQubGlua3MgPSBwYXlsb2FkLmxpbmtzLmZpbHRlcihmdW5jdGlvbiAobGluaykgewogICAgICAgICAgICAgICAgICByZXR1cm4gbGluay5sZW5ndGg7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBheWxvYWQucnVsZXMgPSBwYXlsb2FkLnJ1bGVzLmZpbHRlcihmdW5jdGlvbiAocnVsZXMpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGVzLm5hbWUubGVuZ3RoIHx8IHJ1bGVzLmRlc2NyaXB0aW9uLmxlbmd0aDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghY292ZXJJbWFnZS5hY2Nlc3NVcmwpIHsKICAgICAgICAgICAgICAgICAgY292ZXJJbWFnZS5zcmMgPSBjb3ZlckltYWdlLmJhc2VVcmw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29tbXVuaXR5KHBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSByZXNwb25zZS5lcnJvcnM7CiAgICAgICAgICAgICAgICBjb3ZlckltYWdlLnNyYyA9ICcnOwogICAgICAgICAgICAgICAgLyoqIEBUT0RPIHJldmlzZSAqLwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhfdGhpcy5kYXRhKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb21tdW5pdHknLAogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBpZDogcmVzcG9uc2UuaWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwgbWFwQWN0aW9ucyhbJ3NldFRhZ3NMaXN0J10pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZXRDb21wb25lbnQoKTsKICAgIHRoaXMuc2V0VGFnc0xpc3QoW10pOwogIH0KfTs="},{"version":3,"sources":["CommunityCreateCommunity.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"create-community\">\r\n    <add-image\r\n      :type=\"blogImageTypes.coverImage\"\r\n      class=\"create-community__add-bg\"\r\n      button-text=\"Add Background\"\r\n      @add=\"handleAddImage\"\r\n    >\r\n      <!-- @TODO revise -->\r\n      <wallpaper :src=\"coverImageData\" />\r\n    </add-image>\r\n    <div class=\"create-community__header\">\r\n      <div class=\"create-community__header-wrapper\" />\r\n      <tabs\r\n        :tabs=\"navTabs\"\r\n        @selectTab=\"$active => setComponent($active, $active)\"\r\n        :active=\"activeTab\"\r\n      />\r\n    </div>\r\n    <div class=\"create-community__content\">\r\n      <div class=\"create-community__content-wrapper\">\r\n        <sidebar-form\r\n          :errors=\"errors\"\r\n          :show-buttons=\"true\"\r\n          :data=\"data\"\r\n          @save=\"onSave\"\r\n        />\r\n      </div>\r\n      <div class=\"create-community__content-main\">\r\n        <!-- @TODO revise usage of data vs data here  */ -->\r\n        <keep-alive>\r\n          <component :is=\"currentComponent\" :data=\"data\" :settings=\"settings\"\r\n        /></keep-alive>\r\n      </div>\r\n      <div class=\"create-community__content-wrapper\">\r\n        <sidebar-tags\r\n          class=\"create-community__content-tags\"\r\n          :tags=\"tagItems\"\r\n          :isTagsEdit=\"true\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\nimport settings from '@/services/Community/community.settings';\r\nimport AddImage from '../common/AddImage';\r\nimport Tabs from '../common/Tabs';\r\nimport tabsMixin from '@/mixins/tabs.mixin';\r\nimport SidebarTags from '../common/SidebarTags';\r\nimport SidebarForm from '../common/SidebarForm';\r\nimport CommunityCreateRules from '@/components/Community/CommunityCreateRules';\r\nimport CommunitySettings from '@/components/Community/CommunitySettings';\r\nimport {\r\n  communityAreas,\r\n  createCommunity,\r\n  blogImageTypes,\r\n  communityRoot\r\n} from '@/services/Community/community.service';\r\nimport getComponentsByPrefix from '@/utils/getComponentsByPrefix';\r\nimport Wallpaper from '~common/Wallpaper';\r\n\r\nexport default {\r\n  components: {\r\n    SidebarForm,\r\n    Wallpaper,\r\n    AddImage,\r\n    Tabs,\r\n    CommunityCreateRules,\r\n    CommunitySettings,\r\n    SidebarTags\r\n  },\r\n  mixins: [tabsMixin],\r\n  data() {\r\n    return {\r\n      blogImageTypes,\r\n      errors: [],\r\n      data: {\r\n        links: [],\r\n        rules: [],\r\n        /** @TODO revise structure */\r\n        followsAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        contentAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        reactionsAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        commentsAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        membersAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        postingAccessControl: {\r\n          accessControlSetting: 1\r\n        },\r\n        /** @TODO revise dummy data */\r\n        coverImage: {\r\n          name: 'nanosuit',\r\n          src: '',\r\n          baseUrl:\r\n            'http://media.fanexus.net/users/root/images/851cfc5a-d18a-4541-91ba-3a34ca283234',\r\n          alt: 'awesomesuit',\r\n          identifier: '851cfc5a-d18a-4541-91ba-3a34ca283234'\r\n        }\r\n      },\r\n      activeTab: 0,\r\n      currentComponent: null,\r\n      settings,\r\n      navTabs: [\r\n        {\r\n          title: 'The rules',\r\n          component: communityAreas.createRules\r\n        },\r\n        {\r\n          title: 'Settings',\r\n          component: communityAreas.settings\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      activeAliasId: state => state.alias.activeAliasId,\r\n      tags: state => state.tags.list\r\n    }),\r\n    /** @TODO make it common between blog and community */\r\n    coverImageData() {\r\n      if (!this.data || !this.data.coverImage) return '';\r\n\r\n      return this.data.coverImage.accessUrl || this.data.coverImage.src;\r\n    },\r\n    /** @TODO make it common between blog and community */\r\n    communityComponents() {\r\n      return getComponentsByPrefix.call(this, communityRoot);\r\n    },\r\n    tagItems() {\r\n      return this.tags.map(tag => ({ name: tag, id: 0 }));\r\n    }\r\n  },\r\n  methods: {\r\n    setComponent(tabIndex = 0, componentIndex = 0) {\r\n      this.handleSetActiveTab(tabIndex);\r\n      this.currentComponent = this.communityComponents[componentIndex];\r\n    },\r\n    handleAddImage({ type, data }) {\r\n      this.data[type] = { ...data };\r\n    },\r\n    /** @TODO check this issue @see https://prnt.sc/stfus5 */\r\n    /** @TODO check this issue @see https://prnt.sc/stb7s7 */\r\n    /** @TODO check this issue @see http://prntscr.com/sth0ar */\r\n    async onSave() {\r\n      /** @TODO make it common between blog and community */\r\n      const { coverImage } = this.data;\r\n      const payload = {\r\n        ...this.data,\r\n        alias: this.activeAliasId,\r\n        subscriptionApproval: 'open',\r\n        tagNames: this.tags,\r\n        /** @TODO make it dynamic */\r\n        moderators: [this.activeAliasId],\r\n        members: [this.activeAliasId]\r\n      };\r\n      // remove empty values\r\n      /** @TODO revise other places to switch data to payload */\r\n      payload.links = payload.links.filter(link => link.length);\r\n      payload.rules = payload.rules.filter(\r\n        rules => rules.name.length || rules.description.length\r\n      );\r\n\r\n      if (!coverImage.accessUrl) {\r\n        coverImage.src = coverImage.baseUrl;\r\n      }\r\n\r\n      const response = await createCommunity(payload);\r\n      if (response.errors) {\r\n        this.errors = response.errors;\r\n        coverImage.src = '';\r\n        /** @TODO revise */\r\n      } else if (Object.keys(this.data).length) {\r\n        if (response.id) {\r\n          await this.$router.push({\r\n            name: 'community',\r\n            params: { id: response.id }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    ...mapActions(['setTagsList'])\r\n  },\r\n  mounted() {\r\n    this.setComponent();\r\n    this.setTagsList([]);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.create-community {\r\n  grid-area: content;\r\n  overflow: auto;\r\n  background-color: var(--BG-primary);\r\n  &__add-bg {\r\n    ::v-deep .button {\r\n      padding: 8px var(--element-padding-xxl);\r\n    }\r\n  }\r\n  &__header {\r\n    display: grid;\r\n    align-items: end;\r\n    grid-template-rows: minmax(0, 60px);\r\n    grid-template-columns: var(--width-small) max-content var(--width-small);\r\n    grid-gap: var(--element-margin-xl);\r\n    background-color: var(--BG-blog-post);\r\n    padding: 0 var(--element-padding-xl);\r\n    margin-bottom: var(--element-margin-xl);\r\n  }\r\n\r\n  &__content {\r\n    padding: 0 var(--element-padding-xl);\r\n    display: grid;\r\n    grid-gap: var(--element-padding-xl);\r\n    grid-template-columns: var(--width-small) auto var(--width-small);\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Community"}]}